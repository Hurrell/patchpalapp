(this.webpackJsonppatchpalapp=this.webpackJsonppatchpalapp||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a,r=n(8),i=n(2),u=n(3),l=n(1),s=n(5),o=n(4),c=n(0),h=n.n(c),d=n(7),p=n.n(d),v=(n(15),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={fixtureDetails:h.a.createElement("div",null),fixtureDetailToggle:!1},a.handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a.handleFixtureClick=a.handleFixtureClick.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFixtureChange",value:function(e){this.props.onFixtureChange(this.props.fixture.id,e.target.value)}},{key:"handleRemoveButtonClick",value:function(){this.props.onRemoveButtonClick(this.props.fixture.id)}},{key:"handleFixtureClick",value:function(e){if(this.state.fixtureDetailToggle)this.setState({fixtureDetails:h.a.createElement("div",null)}),this.setState({fixtureDetailToggle:!1});else{var t=this.props.fixture.weight+"kg, "+this.props.fixture.power+"W, "+this.props.fixture.type;this.setState({fixtureDetails:h.a.createElement("div",null,t)}),this.setState({fixtureDetailToggle:!0})}}},{key:"render",value:function(){var e=this.props.fixture,t="";e.selected&&(t=h.a.createElement("button",{type:"button",onClick:this.handleRemoveButtonClick},"Remove"));var n="";return e.quantity&&(n=e.quantity),h.a.createElement("tr",{class:"fixture-row"},h.a.createElement("td",{onClick:this.handleFixtureClick},h.a.createElement("tr",null,e.manufacturer," ",e.fixture),h.a.createElement("tr",null,this.state.fixtureDetails)),h.a.createElement("td",null,h.a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},h.a.createElement("input",{class:"quantity-input",type:"number",value:n,onChange:this.handleFixtureChange,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}))),h.a.createElement("td",null,t))}}]),n}(h.a.Component)),f=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){var e=this,t=this.props.filterText,n=this.props.productionCo,a=this.props.currentTruss,r=[];return this.props.fixtures.forEach((function(i){if((i.manufacturer.toLowerCase().includes(t.toLowerCase())||i.fixture.toLowerCase().includes(t.toLowerCase()))&&(!i.truss||i.truss===a)&&(t&&"default"===n||""===n||i.productionCos.includes(n.toLowerCase()))){var u=i;e.props.selectedFixtures&&e.props.selectedFixtures.forEach((function(e){e.id!==i.id||e.truss!==a||(u=e)})),r.push(h.a.createElement(v,{fixture:u,key:i.id,onFixtureChange:e.handleFixtureChange,onRemoveButtonClick:e.handleRemoveButtonClick}))}})),h.a.createElement("div",null,h.a.createElement("div",{class:"fixture-table"},h.a.createElement("th",null,"Fixture"),h.a.createElement("th",null,"Quantity"),h.a.createElement("div",null)),r)}}]),n}(h.a.Component),m=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFilterTextChange=a.handleFilterTextChange.bind(Object(l.a)(a)),a.handleProdCoChange=a.handleProdCoChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"handleProdCoChange",value:function(e){this.props.onProdCoChange(e.target.value)}},{key:"render",value:function(){var e=this.props.filterText;return h.a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},h.a.createElement("input",{type:"text",placeholder:"Search...",value:e,onChange:this.handleFilterTextChange}),h.a.createElement("p",null,h.a.createElement("select",{onChange:this.handleProdCoChange},h.a.createElement("option",{value:"default"},"Filter by Production Co."),h.a.createElement("option",{value:"CSE"},"CSE"),h.a.createElement("option",{value:"Siyan"},"Siyan"))))}}]),n}(h.a.Component),C=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={filterText:"",productionCo:"default"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(l.a)(a)),a.handleProdCoChange=a.handleProdCoChange.bind(Object(l.a)(a)),a.handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleProdCoChange",value:function(e){this.setState({productionCo:e})}},{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("h2",null,"Add fixtures"),h.a.createElement(m,{filterText:this.state.filterText,onFilterTextChange:this.handleFilterTextChange,onProdCoChange:this.handleProdCoChange}),h.a.createElement(f,{fixtures:this.props.fixtures,selectedFixtures:this.props.selectedFixtures,filterText:this.state.filterText,productionCo:this.state.productionCo,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}))}}]),n}(h.a.Component),x=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("h2",null,"Selected Fixtures"),h.a.createElement(f,{fixtures:this.props.selectedFixtures,filterText:"",productionCo:"",onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}))}}]),n}(h.a.Component),b=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=[],n=[],a=[0,0,0];this.props.selectedFixtures.forEach((function(e){n.includes(e.id)||n.push(e.id)})),console.table(a),n.forEach((function(n){var r=0;if(a[0]!==a[1]||a[0]!==a[2]||a[1]!==a[2]){var i=0;a.forEach((function(e){e>i&&(i=e)})),r=a.indexOf(i)+1}var u=S(e.props.selectedFixtures,"id",n),l=[0,0,0],s=0;e.props.selectedFixtures.forEach((function(e){e.id===n&&(s+=e.quantity)}));for(var o=0;o<s;o++)l[(r+o)%3]++,u&&(console.log(u.power),a[(r+o)%3]+=u.power);console.table(a),t.push(h.a.createElement("div",null,S(e.props.selectedFixtures,"id",n).fixture)),l.forEach((function(e){t.push(h.a.createElement("div",null,e))}))}));var r=a.map((function(e){return h.a.createElement("div",null,R(e))})),i=a.map((function(e){return h.a.createElement("div",null,Math.ceil(e/230),"A")}));return h.a.createElement("div",null,h.a.createElement("h2",null,"Phase Balance"),h.a.createElement("div",{class:"phase-table"},h.a.createElement("div",null),h.a.createElement("div",null,"\u03a61"),h.a.createElement("div",null,"\u03a62"),h.a.createElement("div",null,"\u03a63"),t),"-------------------------------------",h.a.createElement("div",null,"Total"),h.a.createElement("div",{class:"phase-table"},h.a.createElement("div",null,"Power"),r,h.a.createElement("div",null,"Current"),i))}}]),n}(h.a.Component),E=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=function(e){var t=0;e&&e.forEach((function(e){e.quantity>=1&&(t+=Number(e.power)*Number(e.quantity))}));return t}(this.props.selectedFixtures),t=e/230;return h.a.createElement("div",null,h.a.createElement("p",null,"Power: ",R(e)),h.a.createElement("p",null,"Current (",230,"v): ",Math.ceil(t),"A"))}}]),n}(h.a.Component),F=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=0;return this.props.selectedFixtures&&this.props.selectedFixtures.forEach((function(t){t.quantity>=1&&(e+=Number(t.weight)*Number(t.quantity))})),h.a.createElement("p",null,"Weight: ",e.toFixed(0),"kg")}}]),n}(h.a.Component),k=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.trussList.forEach((function(n){var a=[];e.props.selectedFixtures.forEach((function(e){e.truss===n&&a.push(e)})),t.push(h.a.createElement(g,{name:n,selectedFixtures:a}))})),h.a.createElement("div",null,t)}}]),n}(h.a.Component),g=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=0;return this.props.selectedFixtures.forEach((function(t){e+=Number(t.quantity)})),h.a.createElement("div",null,h.a.createElement("h2",null,this.props.name),h.a.createElement("div",{class:"totals"},h.a.createElement(E,{selectedFixtures:this.props.selectedFixtures}),h.a.createElement("div",null,h.a.createElement(F,{selectedFixtures:this.props.selectedFixtures}),h.a.createElement("p",null,"Fixture Count: ",e))))}}]),n}(h.a.Component),j=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){return h.a.createElement("div",{class:"fixture-selector"},h.a.createElement(C,{fixtures:a.fixtures,selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}),h.a.createElement(x,{selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}))}}]),n}(h.a.Component),O=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleTrussSelect=a.handleTrussSelect.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleTrussSelect",value:function(e){this.props.onTrussSelect(e.target.dataset.truss)}},{key:"render",value:function(){var e=this,t=[];return this.props.trussList.forEach((function(n){t.push(h.a.createElement("div",{style:e.props.currentTruss===n?{fontWeight:"bold"}:{fontWeight:"lighter"},"data-truss":n,onClick:e.handleTrussSelect},n))})),h.a.createElement("div",{id:"truss-selector"},t)}}]),n}(h.a.Component),y=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a.handleTrussSelect=a.handleTrussSelect.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleTrussSelect",value:function(e){this.props.onTrussSelect(e)}},{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(O,{onTrussSelect:this.handleTrussSelect,trussList:this.props.trussList,currentTruss:this.props.currentTruss}),h.a.createElement(j,{selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}),h.a.createElement("div",{class:"total-footer"},h.a.createElement(g,{selectedFixtures:this.props.selectedFixtures,name:"Total"})))}}]),n}(h.a.Component),T=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("div",{class:"review-details"},h.a.createElement(k,{selectedFixtures:this.props.selectedFixtures,trussList:this.props.trussList}),h.a.createElement(b,{selectedFixtures:this.props.selectedFixtures})),h.a.createElement("div",{class:"total-footer"},h.a.createElement(g,{selectedFixtures:this.props.selectedFixtures,name:"Total"})))}}]),n}(h.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={trussList:["Project","Truss 1","Truss 2","Truss 3"],currentTruss:"Project",mode:"build",selectedFixtures:[]},a.handleFixtureChange=a.handleFixtureChange.bind(Object(l.a)(a)),a.handleRemoveButtonClick=a.handleRemoveButtonClick.bind(Object(l.a)(a)),a.handleTrussSelect=a.handleTrussSelect.bind(Object(l.a)(a)),a.handleBuildMode=a.handleBuildMode.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"handleBuildMode",value:function(e){this.setState({mode:e.target.dataset.mode})}},{key:"handleTrussSelect",value:function(e){this.setState({currentTruss:e})}},{key:"handleFixtureChange",value:function(e,t){var n=this;t=parseInt(t);var r=this.state.selectedFixtures.slice(),i=S(a.fixtures,"id",e);if(i){var u=!1;r.forEach((function(a){if(a.id===e&&a.truss===n.state.currentTruss)return a.quantity=t,void(u=!0)})),u||(i.quantity=t,i.selected=!0,i.truss=this.state.currentTruss,r.push(i))}this.setState({selectedFixtures:r})}},{key:"handleRemoveButtonClick",value:function(e){var t=this,n=this.state.selectedFixtures.filter((function(n){return!(e===n.id&&n.truss===t.state.currentTruss)}));this.setState({selectedFixtures:n})}},{key:"render",value:function(){var e=h.a.createElement(y,{onTrussSelect:this.handleTrussSelect,currentTruss:this.state.currentTruss,selectedFixtures:this.state.selectedFixtures,onRemoveButtonClick:this.handleRemoveButtonClick,onFixtureChange:this.handleFixtureChange,trussList:this.state.trussList});"review"===this.state.mode&&(e=h.a.createElement(T,{trussList:this.state.trussList,selectedFixtures:this.state.selectedFixtures}));var t="review"===this.state.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},n="build"===this.state.mode?{fontWeight:"bold"}:{fontWeight:"lighter"};return h.a.createElement("div",null,h.a.createElement("div",{id:"header"},h.a.createElement("h1",null,"PatchPal"),h.a.createElement("h2",{style:n,onClick:this.handleBuildMode,"data-mode":"build"},"Build"),h.a.createElement("h2",{style:t,onClick:this.handleBuildMode,"data-mode":"review"},"Review")),e)}}]),n}(h.a.Component);function R(e){var t=Math.ceil(e).toString()+"W";return e>1e3&&(t=(e/1e3).toFixed(2).toString()+"kW"),t}function S(e,t,n){var a;return e.forEach((function(e){e[t]!==n||(a=Object(r.a)({},e))})),a}var w=new XMLHttpRequest;w.onreadystatechange=function(){4===this.readyState&&200===this.status&&(a=JSON.parse(this.responseText),p.a.render(h.a.createElement(B,null),document.querySelector("#root")))},w.open("GET","fixtureData.json",!0),w.send()},15:function(e,t,n){},9:function(e,t,n){e.exports=n(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.3605d678.chunk.js.map