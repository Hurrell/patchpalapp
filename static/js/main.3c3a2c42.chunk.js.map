{"version":3,"sources":["tools.js","index.js"],"names":["printPower","power","visualPower","number","Math","ceil","unit","toFixed","powerDraw","selectedFixtures","forEach","fixture","quantity","Number","getObj","list","keyName","id","foundObj","obj","APPDATA","FixtureAdd","props","handleFixtureChange","bind","handleMinus","handlePlus","e","this","onFixtureChange","target","value","quantityShown","minusSymbol","onClick","class","onKeyPress","key","preventDefault","placeholder","type","onChange","onKeyDown","evt","includes","React","Component","FixtureRow","handleRemoveButtonClick","handleFixtureClick","onRemoveButtonClick","onFixtureClick","removeButton","selected","manufacturer","name","weight","FixtureTable","fixtureId","filterText","currentTruss","rows","fixtures","toLowerCase","fixtureSelectedOrNot","selectFixture","truss","push","SearchBar","handleFilterTextChange","handleProdCoChange","onFilterTextChange","onProdCoChange","autoFocus","FilterableFixtureTable","state","productionCo","setState","SelectedFixturesTable","fixtureCount","TotalPower","TotalAmps","amps","TotalWeight","Totals","FixtureSelector","FixtureDetails","manual","href","rel","specSheet","Review","Header","searchExtended","handleBackClick","handleSearchClick","handleClearSearch","text","onBackClick","leftIcon","rightIcon","title","headerClass","mode","fixtureView","selectedFixture","Footer","handleBuildMode","onModeChange","reviewStyle","fontWeight","buildStyle","searchIcon","listIcon","style","data-mode","pointer-events","App","projectFixtures","newMode","dataset","parseInt","updatedSelectedFixtures","slice","newFixture","fixtureAlreadySelected","remainingFixtures","filter","page","trussList","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","ReactDOM","render","document","querySelector","open","send"],"mappings":"iQACA,SAASA,EAAYC,GACjB,IAAIC,EAAc,CACdC,OAAQC,KAAKC,KAAKJ,GAClBK,KAAM,KAWV,OARIL,EAAM,MACNC,EAAc,CACVC,QAASF,EAAM,KAAMM,QAAQ,GAC7BD,KAAM,OAKPJ,EAMX,SAASM,EAAWC,GAChB,IAAIR,EAAQ,EAQZ,OAPIQ,GACAA,EAAiBC,SAAQ,SAACC,GAClBA,EAAQC,UAAY,IACpBX,GAASY,OAAOF,EAAQV,OAAOY,OAAOF,EAAQC,cAInDX,EAKX,SAASa,EAAQC,EAAMC,EAASC,GAC5B,IAAIC,EAOJ,OANAH,EAAKL,SAAQ,SAACS,GACNA,EAAIH,KAAWC,IACfC,EAAQ,eAAQC,OAIjBD,E,IC3BPE,E,OA+BEC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBACnB,EAAKE,WAAa,EAAKA,WAAWF,KAAhB,gBAJD,E,gEAOCG,GAClBC,KAAKN,MAAMO,gBAAgBD,KAAKN,MAAMX,QAAQM,GAAIU,EAAEG,OAAOC,S,oCAI3D,IAAInB,EACFgB,KAAKN,MAAMX,QAAQC,SAAW,EAAKgB,KAAKN,MAAMX,QAAQC,UAAY,EAAK,EACzEgB,KAAKN,MAAMO,gBAAgBD,KAAKN,MAAMX,QAAQM,GAAIL,K,mCAGlD,IAAIA,EAAWgB,KAAKN,MAAMX,QAAQC,SAEhCA,EADEC,OAAOD,GACEC,OAAOD,GAAY,EAEnB,EAEbgB,KAAKN,MAAMO,gBAAgBD,KAAKN,MAAMX,QAAQM,GAAIL,K,+BAGlD,IAAMD,EAAUiB,KAAKN,MAAMX,QACvBqB,EAAgB,GAChBC,EAAc,8BASlB,OARItB,EAAQC,UAAiC,IAArBD,EAAQC,YAC9BoB,EAAgBrB,EAAQC,SACxBqB,EACE,yBAAKC,QAASN,KAAKH,aACjB,kBAAC,IAAD,CAAaU,MAAM,sBAKvB,yBAAKA,MAAM,kBACRF,EACD,0BACEE,MAAM,iBACNC,WAAY,SAACT,GACD,UAAVA,EAAEU,KAAmBV,EAAEW,mBAGzB,2BAGEC,YAAY,IACZC,KAAK,SACLT,MAAOC,EACPS,SAAUb,KAAKL,oBACfmB,UAAW,SAACC,GAAD,MACT,CAAC,IAAK,IAAK,IAAK,KAAKC,SAASD,EAAIN,MAAQM,EAAIL,qBAIpD,yBAAKJ,QAASN,KAAKF,YACjB,kBAAC,IAAD,CAAUS,MAAM,0B,GA5DDU,IAAMC,WAkEzBC,E,kDACJ,WAAYzB,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAC/B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBAJT,E,gEAMCb,EAASoB,GAC3BH,KAAKN,MAAMO,gBAAgBlB,EAASoB,K,gDAIpCH,KAAKN,MAAM4B,oBAAoBtB,KAAKN,MAAMX,QAAQM,M,yCAGjCU,GACjBC,KAAKN,MAAM6B,eAAevB,KAAKN,MAAMX,W,+BAIrC,IAAMA,EAAUiB,KAAKN,MAAMX,QACvByC,EAAe,GAcnB,OAbIzC,EAAQ0C,WACVD,EACE,4BACEjB,MAAM,gBACNK,KAAK,SACLN,QAASN,KAAKoB,yBAEd,kBAAC,IAAD,CAAWb,MAAM,sBAOrB,yBAAKA,MAAM,eACT,yBAAKA,MAAM,2BAA2BiB,GACtC,6BACE,6BACE,0BAAMlB,QAASN,KAAKqB,oBACjBtC,EAAQ2C,aADX,IAC0B3C,EAAQ4C,OAGpC,yBAAKpB,MAAM,0BACRxB,EAAQV,MADX,UACsBU,EAAQ6C,OAD9B,OAIF,kBAAC,EAAD,CACE3B,gBAAiBD,KAAKL,oBACtBZ,QAASiB,KAAKN,MAAMX,e,GAlDLkC,IAAMC,WAyDzBW,E,kDACJ,WAAYnC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAC/B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBAJT,E,gEAOCkC,EAAW9C,GAC7BgB,KAAKN,MAAMO,gBAAgB6B,EAAW9C,K,8CAGhB8C,GACtB9B,KAAKN,MAAM4B,oBAAoBQ,K,yCAGd/C,GACjBiB,KAAKN,MAAM6B,eAAexC,K,+BAGlB,IAAD,OACDgD,EAAa/B,KAAKN,MAAMqC,WAExBC,EAAehC,KAAKN,MAAMsC,aAE1BC,EAAO,GAwDb,OAtDAjC,KAAKN,MAAMwC,SAASpD,SAAQ,SAACC,GAE3B,GACGA,EAAQ2C,aACNS,cACAnB,SAASe,EAAWI,gBACtBpD,EAAQ4C,KAAKQ,cAAcnB,SAASe,EAAWI,eAJlD,CA4BA,IAAIC,EAAuBrD,EACvB,EAAKW,MAAMb,kBACb,EAAKa,MAAMb,iBAAiBC,SAAQ,SAACuD,GAEjCA,EAAchD,KAAON,EAAQM,IAC7BgD,EAAcC,QAAUN,IAExBI,EAAuBC,MAM7BJ,EAAKM,KACH,kBAAC,EAAD,CACExD,QAASqD,EACT3B,IAAK1B,EAAQM,GACbY,gBAAiB,EAAKN,oBACtB2B,oBAAqB,EAAKF,wBAC1BG,eAAgB,EAAKF,0BAKpB,yBAAKd,MAAM,iBAAiB0B,O,GAjFZhB,IAAMC,WAqF3BsB,E,kDACJ,WAAY9C,GAAQ,IAAD,8BACjB,cAAMA,IACD+C,uBAAyB,EAAKA,uBAAuB7C,KAA5B,gBAC9B,EAAK8C,mBAAqB,EAAKA,mBAAmB9C,KAAxB,gBAHT,E,mEAMIG,GACrBC,KAAKN,MAAMiD,mBAAmB5C,EAAEG,OAAOC,S,yCAGtBJ,GACjBC,KAAKN,MAAMkD,eAAe7C,EAAEG,OAAOC,S,+BAInC,IAAM4B,EAAa/B,KAAKN,MAAMqC,WAE9B,OACE,0BACEvB,WAAY,SAACT,GACD,UAAVA,EAAEU,KAAmBV,EAAEW,mBAGzB,2BACEmC,WAAS,EACTtC,MAAM,SACNK,KAAK,OACLD,YAAY,SACZR,MAAO4B,EACPlB,SAAUb,KAAKyC,8B,GA9BDxB,IAAMC,WA4CxB4B,E,kDACJ,WAAYpD,GAAQ,IAAD,8BACjB,cAAMA,IACDqD,MAAQ,CACXhB,WAAY,GACZiB,aAAc,WAGhB,EAAKP,uBAAyB,EAAKA,uBAAuB7C,KAA5B,gBAC9B,EAAK8C,mBAAqB,EAAKA,mBAAmB9C,KAAxB,gBAC1B,EAAKD,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAC/B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBAXT,E,mEAcImC,GACrB/B,KAAKiD,SAAS,CACZlB,WAAYA,M,yCAIGiB,GACjBhD,KAAKiD,SAAS,CACZD,aAAcA,M,0CAIElB,EAAW9C,GAC7BgB,KAAKN,MAAMO,gBAAgB6B,EAAW9C,K,8CAGhB8C,GACtB9B,KAAKN,MAAM4B,oBAAoBQ,K,yCAGd/C,GACjBiB,KAAKN,MAAM6B,eAAexC,K,+BAI1B,OACE,6BACE,kBAAC,EAAD,CACEmD,SAAUlC,KAAKN,MAAMwC,SACrBrD,iBAAkBmB,KAAKN,MAAMb,iBAC7BkD,WAAY/B,KAAKN,MAAMqC,WACvBiB,aAAchD,KAAK+C,MAAMC,aACzB/C,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BY,aAAchC,KAAKN,MAAMsC,aACzBT,eAAgBvB,KAAKqB,0B,GAlDMJ,IAAMC,WAyDrCgC,E,kDACJ,WAAYxD,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAC/B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBAJT,E,gEAOCkC,EAAW9C,GAC7BgB,KAAKN,MAAMO,gBAAgB6B,EAAW9C,K,8CAGhB8C,GACtB9B,KAAKN,MAAM4B,oBAAoBQ,K,yCAGd/C,GACjBiB,KAAKN,MAAM6B,eAAexC,K,+BAI1B,IAAIoE,EAAe,EAInB,OAHAnD,KAAKN,MAAMb,iBAAiBC,SAAQ,SAACC,GACnCoE,GAAgBlE,OAAOF,EAAQC,aAG/B,6BACE,kDAAwBmE,EAAxB,KACA,kBAAC,EAAD,CACEjB,SAAUlC,KAAKN,MAAMb,iBACrBkD,WAAY,GACZiB,aAAc,GACd/C,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BY,aAAchC,KAAKN,MAAMsC,aACzBT,eAAgBvB,KAAKqB,0B,GAnCKJ,IAAMC,WA6HpCkC,GAnFsBnC,IAAMC,U,uKAqF9B,IAAI7C,EAAQO,EAAUoB,KAAKN,MAAMb,kBAIjC,OACE,yBAAK0B,MAAM,gBACT,0BAAMA,MAAM,gBAAgBnC,EAAWC,GAAOE,QAC9C,0BAAMgC,MAAM,eAAenC,EAAWC,GAAOK,W,GAT5BuC,IAAMC,YAkBzBmC,E,uKAEF,IAEIC,EAFQ1E,EAAUoB,KAAKN,MAAMb,kBAperB,IAweZ,OACE,yBAAK0B,MAAM,eACT,0BAAMA,MAAM,iBAAiB/B,KAAKC,KAAK6E,IACvC,0BAAM/C,MAAM,eAAZ,IACG,iCA5eK,IA4eL,Y,GAVaU,IAAMC,WAiBxBqC,E,uKAEF,IAAI3B,EAAS,EASb,OARI5B,KAAKN,MAAMb,kBACbmB,KAAKN,MAAMb,iBAAiBC,SAAQ,SAACC,GAC/BA,EAAQC,UAAY,IACtB4C,GAAU3C,OAAOF,EAAQ6C,QAAU3C,OAAOF,EAAQC,cAMtD,yBAAKuB,MAAM,iBACT,0BAAMA,MAAM,gBAAgBqB,EAAOjD,QAAQ,IAC3C,0BAAM4B,MAAM,eAAZ,W,GAdkBU,IAAMC,WAqC1BsC,GAjBuBvC,IAAMC,U,uKAuB/B,OAHAlB,KAAKN,MAAMb,iBAAiBC,SAAQ,SAACC,GACnBE,OAAOF,EAAQC,aAG/B,6BACE,yBAAKuB,MAAM,UACT,kBAAC,EAAD,CAAY1B,iBAAkBmB,KAAKN,MAAMb,mBAEzC,kBAAC,EAAD,CAAaA,iBAAkBmB,KAAKN,MAAMb,mBAE1C,kBAAC,EAAD,CAAWA,iBAAkBmB,KAAKN,MAAMb,yB,GAb7BoC,IAAMC,YAoBrBuC,E,kDACJ,WAAY/D,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAE3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAJd,E,gEAOCkC,EAAW9C,GAC7BgB,KAAKN,MAAMO,gBAAgB6B,EAAW9C,K,8CAGhB8C,GACtB9B,KAAKN,MAAM4B,oBAAoBQ,K,+BAI/B,OACE,yBAAKvB,MAAM,oBACT,kBAAC,EAAD,CACE2B,SAAU1C,EAAQ0C,SAClBrD,iBAAkBmB,KAAKN,MAAMb,iBAC7BoB,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BY,aAAchC,KAAKN,MAAMsC,eAE3B,kBAAC,EAAD,CACEnD,iBAAkBmB,KAAKN,MAAMb,iBAC7BoB,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BY,aAAchC,KAAKN,MAAMsC,oB,GA9BLf,IAAMC,WAkH9BwC,GA7EsBzC,IAAMC,UAmCdD,IAAMC,U,uKA4CtB,IAAIyC,EAAS3D,KAAKN,MAAMX,QAAQ4E,OAC9B,uBACEC,KAAM5D,KAAKN,MAAMX,QAAQ4E,OACzBzD,OAAO,SACP2D,IAAI,uBAHN,UAQA,GAEEC,EAAY9D,KAAKN,MAAMX,QAAQ+E,UACjC,uBACEF,KAAM5D,KAAKN,MAAMX,QAAQ+E,UACzB5D,OAAO,SACP2D,IAAI,uBAHN,cAQA,GAEF,OACE,yBAAKtD,MAAM,mBACT,8CAAoBP,KAAKN,MAAMX,QAAQ2C,cACvC,wCAAc1B,KAAKN,MAAMX,QAAQ6C,OAAjC,MACA,uCAAa5B,KAAKN,MAAMX,QAAQV,MAAhC,KACA,sCAAY2B,KAAKN,MAAMX,QAAQ6B,MAC/B,sCACS+C,EADT,IACkBG,Q,GA/BG7C,IAAMC,YAuC7B6C,E,kDACJ,WAAYrE,GAAQ,IAAD,8BACjB,cAAMA,IACDC,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAE3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAC/B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBALT,E,gEAQCkC,EAAW9C,GAC7BgB,KAAKN,MAAMO,gBAAgB6B,EAAW9C,K,8CAGhB8C,GACtB9B,KAAKN,MAAM4B,oBAAoBQ,K,yCAGd/C,GACjBiB,KAAKN,MAAM6B,eAAexC,K,+BAI1B,OACE,6BAUE,6BACE,kBAAC,EAAD,CACEF,iBAAkBmB,KAAKN,MAAMb,iBAC7B8C,KAAK,YAGT,6BACE,kBAAC,EAAD,CACE9C,iBAAkBmB,KAAKN,MAAMb,iBAC7BoB,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BY,aAAchC,KAAKN,MAAMsC,aACzBT,eAAgBvB,KAAKqB,2B,GA7CZJ,IAAMC,WAqDrB8C,E,kDACJ,WAAYtE,GAAQ,IAAD,8BACjB,cAAMA,IACDqD,MAAQ,CACXkB,gBAAgB,GAElB,EAAKxB,uBAAyB,EAAKA,uBAAuB7C,KAA5B,gBAC9B,EAAKsE,gBAAkB,EAAKA,gBAAgBtE,KAArB,gBACvB,EAAKuE,kBAAoB,EAAKA,kBAAkBvE,KAAvB,gBACzB,EAAKwE,kBAAoB,EAAKA,kBAAkBxE,KAAvB,gBARR,E,mEAWIyE,GACrBrE,KAAKN,MAAMiD,mBAAmB0B,K,sCAGhBtE,GACVC,KAAK+C,MAAMkB,gBACbjE,KAAKN,MAAMiD,mBAAmB,IAC9B3C,KAAKiD,SAAS,CACZgB,gBAAgB,KAGlBjE,KAAKN,MAAM4E,YAAYvE,K,wCAGTA,GAChBC,KAAKiD,SAAS,CACZgB,gBAAgB,M,wCAIFlE,GAChBC,KAAKN,MAAMiD,mBAAmB,M,+BAI9B,IAAI4B,EACAC,EACAC,EAGAC,EAAc,SAMlB,OAAQ1E,KAAKN,MAAMiF,MACjB,IAAK,QACH,OAAQ3E,KAAK+C,MAAMkB,gBACjB,KAAK,EACHQ,EACE,6BACE,kBAAC,EAAD,CACE1C,WAAY/B,KAAKN,MAAMqC,WACvBY,mBAAoB3C,KAAKyC,0BAK/B8B,EACE,yBAAKhE,MAAM,gBAAgBD,QAASN,KAAKkE,iBACvC,kBAAC,IAAD,CAAgB3D,MAAM,eAQ1BmE,EAAc,gBACdF,EAAY,8BACZ,MACF,QACEC,EACE,wBAAIlE,MAAM,QAAQD,QAASN,KAAKmE,mBAAhC,YAIFI,EACE,yBAAKhE,MAAM,gBAAgBD,QAASN,KAAKmE,mBACvC,kBAAC,IAAD,CAAa5D,MAAM,eAGvBiE,EAAY,8BAEZE,EAAc,SAElB,MACF,IAAK,SACHD,EAAQ,wBAAIlE,MAAM,SAAV,WACRgE,EAAW,8BACXG,EAAc,gBACdF,EAAY,8BACZ,MACF,QACED,EAAW,8BACXC,EAAY,8BACZC,EAAQ,wCAcZ,OAXIzE,KAAKN,MAAMkF,cACbL,EACE,yBAAKhE,MAAM,gBAAgBD,QAASN,KAAKkE,iBACvC,kBAAC,IAAD,CAAgB3D,MAAM,eAG1BkE,EAAQ,4BAAKzE,KAAKN,MAAMmF,gBAAgBlD,MACxC6C,EAAY,8BACZE,EAAc,UAId,yBAAKnE,MAAOmE,GACTH,EACAE,EACAD,O,GArHYvD,IAAMC,WA2HrB4D,E,kDACJ,WAAYpF,GAAQ,IAAD,8BACjB,cAAMA,IACDqF,gBAAkB,EAAKA,gBAAgBnF,KAArB,gBAFN,E,4DAIHG,GACdC,KAAKN,MAAMsF,aAAajF,K,+BAGxB,IAAIkF,EACkB,WAApBjF,KAAKN,MAAMiF,KACP,CAAEO,WAAY,QACd,CAAEA,WAAY,WAChBC,EACkB,UAApBnF,KAAKN,MAAMiF,KACP,CAAEO,WAAY,QACd,CAAEA,WAAY,WAChBE,EACkB,UAApBpF,KAAKN,MAAMiF,KACT,kBAAC,IAAD,CAAepE,MAAM,gBAErB,kBAAC,IAAD,CAAsBA,MAAM,gBAE5B8E,EACkB,WAApBrF,KAAKN,MAAMiF,KACT,kBAAC,IAAD,CAAcpE,MAAM,gBAEpB,kBAAC,IAAD,CAAWA,MAAM,gBAGrB,OACE,yBAAKlB,GAAG,UACN,8BACA,yBACEkB,MAAM,oBACN+E,MAAOH,EACP7E,QAASN,KAAK+E,gBACdQ,YAAU,SAETH,GAEH,8BACA,yBACE7E,MAAM,oBACNiF,iBAAe,OACfF,MAAOL,EACP3E,QAASN,KAAK+E,gBACdQ,YAAU,UAETF,GAEH,mC,GAnDapE,IAAMC,WAyDrBuE,E,kDACJ,WAAY/F,GAAQ,IAAD,8BACjB,cAAMA,IACDqD,MAAQ,CAIX4B,KAAM,QACNe,gBAAiB,GACjB3D,WAAY,GACZ8C,gBAAiB,GACjBD,aAAa,GAEf,EAAKjF,oBAAsB,EAAKA,oBAAoBC,KAAzB,gBAC3B,EAAKwB,wBAA0B,EAAKA,wBAAwBxB,KAA7B,gBAE/B,EAAKmF,gBAAkB,EAAKA,gBAAgBnF,KAArB,gBACvB,EAAK6C,uBAAyB,EAAKA,uBAAuB7C,KAA5B,gBAC9B,EAAKyB,mBAAqB,EAAKA,mBAAmBzB,KAAxB,gBAC1B,EAAKsE,gBAAkB,EAAKA,gBAAgBtE,KAArB,gBAlBN,E,4DAoBHG,GACd,IAAI4F,EAAU5F,EAAEG,OAAO0F,QAAQjB,KAC/B3E,KAAKiD,SAAS,CACZ2B,aAAa,IAEX5E,KAAK+C,MAAM4B,OAASgB,GACtB3F,KAAKiD,SAAS,CACZ0B,KAAM5E,EAAEG,OAAO0F,QAAQjB,KACvB5C,WAAY,O,6CAWKA,GACrB/B,KAAKiD,SAAS,CACZlB,WAAYA,M,0CAIID,EAAW9C,GAAW,IAAD,OACvCA,EAAW6G,SAAS7G,GAEpB,IAAI8G,EAA0B9F,KAAK+C,MAAM2C,gBAAgBK,QAErDC,EAAa9G,EAAOM,EAAQ0C,SAAU,KAAMJ,GAEhD,GAAIkE,EAAY,CACd,IAAIC,GAAyB,EAC7BH,EAAwBhH,SAAQ,SAACC,GAC/B,GACEA,EAAQM,KAAOyC,GACf/C,EAAQuD,QAAU,EAAKS,MAAMf,aAI7B,OAFAjD,EAAQC,SAAWA,OACnBiH,GAAyB,MAKxBA,IACHD,EAAWhH,SAAWA,EACtBgH,EAAWvE,UAAW,EACtBuE,EAAW1D,MAAQtC,KAAK+C,MAAMf,aAC9B8D,EAAwBvD,KAAKyD,IAIjChG,KAAKiD,SAAS,CACZyC,gBAAiBI,M,8CAIGhE,GACtB,IAAIoE,EAAoBlG,KAAK+C,MAAM2C,gBAAgBS,QAAO,SAACpH,GACzD,OAAO+C,IAAc/C,EAAQM,MAE/BW,KAAKiD,SAAS,CACZyC,gBAAiBQ,M,yCAIFnH,GACjBiB,KAAKiD,SAAS,CACZ2B,aAAa,EACbC,gBAAiB9F,M,sCAILgB,GACdC,KAAKiD,SAAS,CACZ2B,aAAa,EACbC,gBAAiB,O,+BAKnB,IAAIuB,EAgCJ,OA9BEA,EADEpG,KAAK+C,MAAM6B,YACN,kBAAC,EAAD,CAAgB7F,QAASiB,KAAK+C,MAAM8B,kBAEnB,UAApB7E,KAAK+C,MAAM4B,KAEX,kBAAC,EAAD,CACEzC,SAAU1C,EAAQ0C,SAClBrD,iBAAkBmB,KAAK+C,MAAM2C,gBAC7BzF,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BW,WAAY/B,KAAK+C,MAAMhB,WACvBR,eAAgBvB,KAAKqB,qBAMvB,kBAAC,EAAD,CACEgF,UAAWrG,KAAK+C,MAAMsD,UACtBxH,iBAAkBmB,KAAK+C,MAAM2C,gBAC7BzF,gBAAiBD,KAAKL,oBACtB2B,oBAAqBtB,KAAKoB,wBAC1BG,eAAgBvB,KAAKqB,qBAU3B,yBAAKd,MAAM,OACT,kBAAC,EAAD,CACEqE,YAAa5E,KAAK+C,MAAM6B,YACxBD,KAAM3E,KAAK+C,MAAM4B,KACjBE,gBAAiB7E,KAAK+C,MAAM8B,gBAC5BlC,mBAAoB3C,KAAKyC,uBACzB6B,YAAatE,KAAKkE,kBAEpB,yBAAK3D,MAAM,QAAQ6F,GAEnB,kBAAC,EAAD,CAAQzB,KAAM3E,KAAK+C,MAAM4B,KAAMK,aAAchF,KAAK+E,uB,GAlJxC9D,IAAMC,WAyJlBoF,EAAU,IAAIC,eACpBD,EAAQE,mBAAqB,WACH,IAApBxG,KAAKyG,YAAoC,MAAhBzG,KAAK0G,SAChClH,EAAUmH,KAAKC,MAAM5G,KAAK6G,cAE1BC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,YAGpDX,EAAQY,KAAK,MAAO,oBAAoB,GACxCZ,EAAQa,S","file":"static/js/main.3c3a2c42.chunk.js","sourcesContent":["//function to prettify power results - number in, string out\nfunction printPower (power) {\n    let visualPower = {\n        number: Math.ceil(power),\n        unit: \"W\"\n    };\n\n    if (power>1000) {\n        visualPower = {\n            number: (power/1000).toFixed(1),\n            unit: \"kW\"\n\n        }\n    }\n\n    return visualPower;\n}\n\n\n\n//function to get total power draw from selected fixtures\nfunction powerDraw (selectedFixtures) {\n    let power = 0;\n    if (selectedFixtures) {\n        selectedFixtures.forEach((fixture) => {\n            if (fixture.quantity >= 1) {\n                power += Number(fixture.power)*Number(fixture.quantity);\n            }\n        });\n    }\n    return power;\n}\n\n\n//Function to return an object from list using key\nfunction getObj (list, keyName, id) {\n    let foundObj;\n    list.forEach((obj) => {\n        if (obj[keyName]===id) {\n            foundObj = { ...obj};\n            return;\n        }\n    });\n    return foundObj;\n}\n\nexport {printPower, powerDraw, getObj}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { printPower, powerDraw, getObj } from \"./tools.js\";\nimport {\n  IoIosSearch,\n  IoIosList,\n  IoIosListBox,\n  IoIosArrowBack,\n  IoMdAddCircleOutline,\n  IoMdAddCircle,\n  IoMdClose,\n  IoIosAdd,\n  IoIosRemove,\n} from \"react-icons/io\";\n\nvar APPDATA;\nconst VOLTAGE = 230;\n\n/*Components\nA) App  \n    mode (search, review, fixture) -- state\n    filter text --state\n    projectfixtures --state\n    fixture selected --state\n    \n    1) Footer\n        mode -- props\n    \n    2) Header\n    mode --props\n    filter text --props\n    fixture selected --props\n\n    3) Fixture Table\n    mode --props\n    projectfixtures --props\n    search text --props\n    \n        a) Fixture Row\n            fixture --props\n    \n    4) Fixture Details\n        fixture selected --props\n\n*/\n\nclass FixtureAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleMinus = this.handleMinus.bind(this);\n    this.handlePlus = this.handlePlus.bind(this);\n  }\n\n  handleFixtureChange(e) {\n    this.props.onFixtureChange(this.props.fixture.id, e.target.value);\n  }\n\n  handleMinus() {\n    let quantity =\n      this.props.fixture.quantity > 0 ? (this.props.fixture.quantity -= 1) : 0;\n    this.props.onFixtureChange(this.props.fixture.id, quantity);\n  }\n  handlePlus() {\n    let quantity = this.props.fixture.quantity;\n    if (Number(quantity)) {\n      quantity = Number(quantity) + 1;\n    } else {\n      quantity = 1;\n    }\n    this.props.onFixtureChange(this.props.fixture.id, quantity);\n  }\n  render() {\n    const fixture = this.props.fixture;\n    let quantityShown = \"\";\n    let minusSymbol = <div></div>;\n    if (fixture.quantity || fixture.quantity === 0) {\n      quantityShown = fixture.quantity;\n      minusSymbol = (\n        <div onClick={this.handleMinus}>\n          <IoIosRemove class=\"plus-minus-icon\" />\n        </div>\n      );\n    }\n    return (\n      <div class=\"fixture-change\">\n        {minusSymbol}\n        <form\n          class=\"quantity-input\"\n          onKeyPress={(e) => {\n            e.key === \"Enter\" && e.preventDefault();\n          }}\n        >\n          <input\n            //background-image={plusSign}\n            //max=\"99\"\n            placeholder=\"+\"\n            type=\"number\"\n            value={quantityShown}\n            onChange={this.handleFixtureChange}\n            onKeyDown={(evt) =>\n              [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault()\n            }\n          />\n        </form>\n        <div onClick={this.handlePlus}>\n          <IoIosAdd class=\"plus-minus-icon\" />\n        </div>\n      </div>\n    );\n  }\n}\nclass FixtureRow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n  handleFixtureChange(fixture, value) {\n    this.props.onFixtureChange(fixture, value);\n  }\n\n  handleRemoveButtonClick() {\n    this.props.onRemoveButtonClick(this.props.fixture.id);\n  }\n\n  handleFixtureClick(e) {\n    this.props.onFixtureClick(this.props.fixture);\n  }\n\n  render() {\n    const fixture = this.props.fixture;\n    let removeButton = \"\";\n    if (fixture.selected) {\n      removeButton = (\n        <button\n          class=\"remove-button\"\n          type=\"button\"\n          onClick={this.handleRemoveButtonClick}\n        >\n          <IoMdClose class=\"remove-button-x\" />\n        </button>\n      );\n    }\n\n    //let plusSign = (<IoIosAdd/>);\n    return (\n      <div class=\"fixture-row\">\n        <div class=\"remove-button-container\">{removeButton}</div>\n        <div>\n          <div>\n            <span onClick={this.handleFixtureClick}>\n              {fixture.manufacturer} {fixture.name}\n            </span>\n          </div>\n          <div class=\"fixture-in-row-details\">\n            {fixture.power}W · {fixture.weight}kg\n          </div>\n        </div>\n        <FixtureAdd\n          onFixtureChange={this.handleFixtureChange}\n          fixture={this.props.fixture}\n        />\n      </div>\n    );\n  }\n}\n\nclass FixtureTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n    //const productionCo = this.props.productionCo;\n    const currentTruss = this.props.currentTruss;\n\n    const rows = [];\n\n    this.props.fixtures.forEach((fixture) => {\n      //filter by search\n      if (\n        !fixture.manufacturer\n          .toLowerCase()\n          .includes(filterText.toLowerCase()) &&\n        !fixture.name.toLowerCase().includes(filterText.toLowerCase())\n      ) {\n        return;\n      }\n\n      // //filter by truss\n      // if (fixture.truss) {\n      //     if (fixture.truss !== currentTruss) {\n      //         return;\n      //     }\n      // }\n\n      // //ignore default filter if search has value\n      // if (!(filterText && productionCo === \"default\")) {\n      // //filter by production Company (or default)\n      //     if(productionCo !== \"\") {\n      //         if (!fixture.productionCos.includes(productionCo.toLowerCase())) {\n      //             return;\n      //         }\n      //     }\n      // }\n\n      //replace with selected fixture if necessary\n\n      let fixtureSelectedOrNot = fixture;\n      if (this.props.selectedFixtures) {\n        this.props.selectedFixtures.forEach((selectFixture) => {\n          if (\n            selectFixture.id === fixture.id &&\n            selectFixture.truss === currentTruss\n          ) {\n            fixtureSelectedOrNot = selectFixture;\n            return;\n          }\n        });\n      }\n\n      rows.push(\n        <FixtureRow\n          fixture={fixtureSelectedOrNot}\n          key={fixture.id}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      );\n    });\n\n    return <div class=\"fixture-table\">{rows}</div>;\n  }\n}\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleProdCoChange = this.handleProdCoChange.bind(this);\n  }\n\n  handleFilterTextChange(e) {\n    this.props.onFilterTextChange(e.target.value);\n  }\n\n  handleProdCoChange(e) {\n    this.props.onProdCoChange(e.target.value);\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n\n    return (\n      <form\n        onKeyPress={(e) => {\n          e.key === \"Enter\" && e.preventDefault();\n        }}\n      >\n        <input\n          autoFocus\n          class=\"search\"\n          type=\"text\"\n          placeholder=\"Search\"\n          value={filterText}\n          onChange={this.handleFilterTextChange}\n        />\n        {/* <p>\n                    <select onChange={this.handleProdCoChange}>\n                        <option value = \"default\">Filter by Production Co.</option>\n                        <option value = \"CSE\">CSE</option>\n                        <option value = \"Siyan\">Siyan</option>\n                    </select>\n                </p> */}\n      </form>\n    );\n  }\n}\n\nclass FilterableFixtureTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: \"\",\n      productionCo: \"default\",\n    };\n\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleProdCoChange = this.handleProdCoChange.bind(this);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFilterTextChange(filterText) {\n    this.setState({\n      filterText: filterText,\n    });\n  }\n\n  handleProdCoChange(productionCo) {\n    this.setState({\n      productionCo: productionCo,\n    });\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    return (\n      <div>\n        <FixtureTable\n          fixtures={this.props.fixtures}\n          selectedFixtures={this.props.selectedFixtures}\n          filterText={this.props.filterText}\n          productionCo={this.state.productionCo}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      </div>\n    );\n  }\n}\n\nclass SelectedFixturesTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    let fixtureCount = 0;\n    this.props.selectedFixtures.forEach((fixture) => {\n      fixtureCount += Number(fixture.quantity);\n    });\n    return (\n      <div>\n        <h2>Selected Fixtures ({fixtureCount})</h2>\n        <FixtureTable\n          fixtures={this.props.selectedFixtures}\n          filterText={\"\"}\n          productionCo={\"\"}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      </div>\n    );\n  }\n}\n\nclass BalancePhases extends React.Component {\n  render() {\n    //let loadperPhase = powerDraw(this.props.selectedFixtures) / 3;\n    let fixturePhaseSplit = [];\n    let fixtureTypes = [];\n    let phaseLoad = [0, 0, 0];\n\n    //Check what fixture types there are in project\n    this.props.selectedFixtures.forEach((fixture) => {\n      if (!fixtureTypes.includes(fixture.id)) {\n        fixtureTypes.push(fixture.id);\n      }\n    });\n    //add up fixture totals\n    fixtureTypes.forEach((id) => {\n      //check highest Phase, get index of next phase\n      let indexNextPhase = 0;\n      if (\n        phaseLoad[0] !== phaseLoad[1] ||\n        phaseLoad[0] !== phaseLoad[2] ||\n        phaseLoad[1] !== phaseLoad[2]\n      ) {\n        let maxPower = 0;\n\n        phaseLoad.forEach((load) => {\n          if (load > maxPower) {\n            maxPower = load;\n          }\n        });\n        indexNextPhase = phaseLoad.indexOf(maxPower) + 1;\n      }\n      let fixture = getObj(this.props.selectedFixtures, \"id\", id);\n      let phaseCount = [0, 0, 0];\n      let sum = 0;\n      //bit boring here because fixtures could be selected twice under different truss\n      this.props.selectedFixtures.forEach((fixture) => {\n        if (fixture.id === id) {\n          sum += fixture.quantity;\n        }\n      });\n      //round robin phases\n      for (let i = 0; i < sum; i++) {\n        phaseCount[(indexNextPhase + i) % 3]++;\n        if (fixture) {\n          phaseLoad[(indexNextPhase + i) % 3] += fixture.power;\n        }\n      }\n      fixturePhaseSplit.push(\n        <div>{getObj(this.props.selectedFixtures, \"id\", id).fixture}</div>\n      );\n      phaseCount.forEach((phase) => {\n        fixturePhaseSplit.push(<div>{phase}</div>);\n      });\n    });\n\n    let printablePhaseLoads = phaseLoad.map((phase) => {\n      return <div>{printPower(phase)}</div>;\n    });\n    let printablePhaseAmps = phaseLoad.map((phase) => {\n      return <div>{Math.ceil(phase / VOLTAGE)}A</div>;\n    });\n    return (\n      <div>\n        <h2>Phase Balance</h2>\n        <div class=\"phase-table\">\n          <div></div>\n          <div>Φ1</div>\n          <div>Φ2</div>\n          <div>Φ3</div>\n          {fixturePhaseSplit}\n        </div>\n        -------------------------------------\n        <div>Total</div>\n        <div class=\"phase-table\">\n          <div>Power</div>\n          {printablePhaseLoads}\n          <div>Current</div>\n          {printablePhaseAmps}\n        </div>\n      </div>\n    );\n  }\n}\nclass TotalPower extends React.Component {\n  render() {\n    let power = powerDraw(this.props.selectedFixtures);\n\n    let amps = power / VOLTAGE;\n\n    return (\n      <div class=\"review-power\">\n        <span class=\"review-total\">{printPower(power).number}</span>\n        <span class=\"review-unit\">{printPower(power).unit}</span>\n        {/* <p>\n                    {Math.ceil(amps)}A\n                </p> */}\n      </div>\n    );\n  }\n}\n\nclass TotalAmps extends React.Component {\n  render() {\n    let power = powerDraw(this.props.selectedFixtures);\n\n    let amps = power / VOLTAGE;\n\n    return (\n      <div class=\"review-amps\">\n        <span class=\"review-total \">{Math.ceil(amps)}</span>\n        <span class=\"review-unit\">\n          A<sup>({VOLTAGE}v)</sup>\n        </span>\n      </div>\n    );\n  }\n}\n\nclass TotalWeight extends React.Component {\n  render() {\n    let weight = 0;\n    if (this.props.selectedFixtures) {\n      this.props.selectedFixtures.forEach((fixture) => {\n        if (fixture.quantity >= 1) {\n          weight += Number(fixture.weight) * Number(fixture.quantity);\n        }\n      });\n    }\n\n    return (\n      <div class=\"review-weight\">\n        <span class=\"review-total\">{weight.toFixed(0)}</span>\n        <span class=\"review-unit\">kg</span>\n      </div>\n    );\n  }\n}\n\nclass TrussBreakdown extends React.Component {\n  render() {\n    let trussBreakdowns = [];\n    this.props.trussList.forEach((truss) => {\n      let trussSelected = [];\n      this.props.selectedFixtures.forEach((fixture) => {\n        if (fixture.truss === truss) {\n          trussSelected.push(fixture);\n        }\n      });\n      trussBreakdowns.push(\n        <Totals name={truss} selectedFixtures={trussSelected} />\n      );\n    });\n    return <div>{trussBreakdowns}</div>;\n  }\n}\nclass Totals extends React.Component {\n  render() {\n    let fixtureCount = 0;\n    this.props.selectedFixtures.forEach((fixture) => {\n      fixtureCount += Number(fixture.quantity);\n    });\n    return (\n      <div>\n        <div class=\"totals\">\n          <TotalPower selectedFixtures={this.props.selectedFixtures} />\n\n          <TotalWeight selectedFixtures={this.props.selectedFixtures} />\n          {/* <p>Fixture Count: {fixtureCount}</p> */}\n          <TotalAmps selectedFixtures={this.props.selectedFixtures} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass FixtureSelector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    //this.handleSelectedFixtureChange = this.handleSelectedFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  render() {\n    return (\n      <div class=\"fixture-selector\">\n        <FilterableFixtureTable\n          fixtures={APPDATA.fixtures}\n          selectedFixtures={this.props.selectedFixtures}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n        />\n        <SelectedFixturesTable\n          selectedFixtures={this.props.selectedFixtures}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n        />\n      </div>\n    );\n  }\n}\n\nclass TrussSelector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleTrussSelect = this.handleTrussSelect.bind(this);\n  }\n\n  handleTrussSelect(e) {\n    this.props.onTrussSelect(e.target.dataset.truss);\n  }\n\n  render() {\n    let trussSeperated = [];\n    this.props.trussList.forEach((trussName) => {\n      trussSeperated.push(\n        <div\n          style={\n            this.props.currentTruss === trussName\n              ? {\n                  fontWeight: \"bold\",\n                }\n              : {\n                  fontWeight: \"lighter\",\n                }\n          }\n          data-truss={trussName}\n          onClick={this.handleTrussSelect}\n        >\n          {trussName}\n        </div>\n      );\n    });\n    return <div id=\"truss-selector\">{trussSeperated}</div>;\n  }\n}\n\nclass Build extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleTrussSelect = this.handleTrussSelect.bind(this);\n  }\n\n  handleTrussSelect(trussName) {\n    this.props.onTrussSelect(trussName);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <TrussSelector\n                    onTrussSelect={this.handleTrussSelect}\n                    trussList = {this.props.trussList}\n                    currentTruss={this.props.currentTruss}\n                /> */}\n        <FixtureSelector\n          selectedFixtures={this.props.selectedFixtures}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n        />\n        <div class=\"total-footer\">\n          <Totals selectedFixtures={this.props.selectedFixtures} name=\"Total\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass FixtureDetails extends React.Component {\n  render() {\n    let manual = this.props.fixture.manual ? (\n      <a\n        href={this.props.fixture.manual}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Manual\n      </a>\n    ) : (\n      \"\"\n    );\n    let specSheet = this.props.fixture.specSheet ? (\n      <a\n        href={this.props.fixture.specSheet}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Spec Sheet\n      </a>\n    ) : (\n      \"\"\n    );\n    return (\n      <div class=\"fixture-details\">\n        <div>Manufacturer: {this.props.fixture.manufacturer}</div>\n        <div>Weight: {this.props.fixture.weight}kg</div>\n        <div>Power: {this.props.fixture.power}W</div>\n        <div>Type: {this.props.fixture.type}</div>\n        <div>\n          Docs: {manual} {specSheet}\n        </div>\n        {/* <div>Rented by: {this.props.fixture.productionCos}</div> */}\n      </div>\n    );\n  }\n}\n\nclass Review extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    //this.handleSelectedFixtureChange = this.handleSelectedFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <div class=\"review-details\">\n                    <TrussBreakdown \n                        selectedFixtures={this.props.selectedFixtures}\n                        trussList = {this.props.trussList}\n                    />   \n                    <BalancePhases\n                        selectedFixtures={this.props.selectedFixtures}\n                    />\n                </div> */}\n        <div>\n          <Totals\n            selectedFixtures={this.props.selectedFixtures}\n            name=\"Totals\"\n          />\n        </div>\n        <div>\n          <SelectedFixturesTable\n            selectedFixtures={this.props.selectedFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            currentTruss={this.props.currentTruss}\n            onFixtureClick={this.handleFixtureClick}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchExtended: false,\n    };\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleBackClick = this.handleBackClick.bind(this);\n    this.handleSearchClick = this.handleSearchClick.bind(this);\n    this.handleClearSearch = this.handleClearSearch.bind(this);\n  }\n\n  handleFilterTextChange(text) {\n    this.props.onFilterTextChange(text);\n  }\n\n  handleBackClick(e) {\n    if (this.state.searchExtended) {\n      this.props.onFilterTextChange(\"\");\n      this.setState({\n        searchExtended: false,\n      });\n    } else {\n      this.props.onBackClick(e);\n    }\n  }\n  handleSearchClick(e) {\n    this.setState({\n      searchExtended: true,\n    });\n  }\n\n  handleClearSearch(e) {\n    this.props.onFilterTextChange(\"\");\n  }\n\n  render() {\n    let leftIcon;\n    let rightIcon;\n    let title;\n    //let backLink;\n    //let searchBar;\n    let headerClass = \"header\";\n    // let searchBarExtend = (<SearchBar\n    //         filterText={this.props.filterText}\n    //         onFilterTextChange={this.handleFilterTextChange}\n    //         //onProdCoChange={this.handleProdCoChange}\n    //         />)\n    switch (this.props.mode) {\n      case \"build\":\n        switch (this.state.searchExtended) {\n          case true:\n            title = (\n              <div>\n                <SearchBar\n                  filterText={this.props.filterText}\n                  onFilterTextChange={this.handleFilterTextChange}\n                  //onProdCoChange={this.handleProdCoChange}\n                />\n              </div>\n            );\n            leftIcon = (\n              <div class=\"left-icon-div\" onClick={this.handleBackClick}>\n                <IoIosArrowBack class=\"left-icon\" />\n              </div>\n            );\n            // rightIcon = (<IoMdClose\n            //     class=\"right-icon\"\n            //     onClick={this.handleClearSearch}\n            //     />\n            //     )\n            headerClass = \"header-search\";\n            rightIcon = <div></div>;\n            break;\n          default:\n            title = (\n              <h1 class=\"title\" onClick={this.handleSearchClick}>\n                PatchPal\n              </h1>\n            );\n            leftIcon = (\n              <div class=\"left-icon-div\" onClick={this.handleSearchClick}>\n                <IoIosSearch class=\"left-icon\" />\n              </div>\n            );\n            rightIcon = <div></div>;\n            //backLink = (<div></div>);\n            headerClass = \"header\";\n        }\n        break;\n      case \"review\":\n        title = <h1 class=\"title\">Summary</h1>;\n        leftIcon = <div></div>;\n        headerClass = \"header-review\";\n        rightIcon = <div></div>;\n        break;\n      default:\n        leftIcon = <div></div>;\n        rightIcon = <div></div>;\n        title = <h1>PatchPal</h1>;\n    }\n\n    if (this.props.fixtureView) {\n      leftIcon = (\n        <div class=\"left-icon-div\" onClick={this.handleBackClick}>\n          <IoIosArrowBack class=\"left-icon\" />\n        </div>\n      );\n      title = <h1>{this.props.selectedFixture.name}</h1>;\n      rightIcon = <div></div>;\n      headerClass = \"header\";\n    }\n\n    return (\n      <div class={headerClass}>\n        {leftIcon}\n        {title}\n        {rightIcon}\n      </div>\n    );\n  }\n}\n\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleBuildMode = this.handleBuildMode.bind(this);\n  }\n  handleBuildMode(e) {\n    this.props.onModeChange(e);\n  }\n  render() {\n    let reviewStyle =\n      this.props.mode === \"review\"\n        ? { fontWeight: \"bold\" }\n        : { fontWeight: \"lighter\" };\n    let buildStyle =\n      this.props.mode === \"build\"\n        ? { fontWeight: \"bold\" }\n        : { fontWeight: \"lighter\" };\n    let searchIcon =\n      this.props.mode === \"build\" ? (\n        <IoMdAddCircle class=\"footer-icon\" />\n      ) : (\n        <IoMdAddCircleOutline class=\"footer-icon\" />\n      );\n    let listIcon =\n      this.props.mode === \"review\" ? (\n        <IoIosListBox class=\"footer-icon\" />\n      ) : (\n        <IoIosList class=\"footer-icon\" />\n      );\n\n    return (\n      <div id=\"footer\">\n        <div></div>\n        <div\n          class=\"child-clicks-this\"\n          style={buildStyle}\n          onClick={this.handleBuildMode}\n          data-mode=\"build\"\n        >\n          {searchIcon}\n        </div>\n        <div></div>\n        <div\n          class=\"child-clicks-this\"\n          pointer-events=\"none\"\n          style={reviewStyle}\n          onClick={this.handleBuildMode}\n          data-mode=\"review\"\n        >\n          {listIcon}\n        </div>\n        <div></div>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ////use trussList to allow user defined trusses at some point\n      //trussList: [\"Project\",\"Truss 1\", \"Truss 2\", \"Truss 3\"],\n      //currentTruss: \"Project\",\n      mode: \"build\",\n      projectFixtures: [],\n      filterText: \"\",\n      selectedFixture: {},\n      fixtureView: false,\n    };\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    //this.handleTrussSelect = this.handleTrussSelect.bind(this);\n    this.handleBuildMode = this.handleBuildMode.bind(this);\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n    this.handleBackClick = this.handleBackClick.bind(this);\n  }\n  handleBuildMode(e) {\n    let newMode = e.target.dataset.mode;\n    this.setState({\n      fixtureView: false,\n    });\n    if (this.state.mode !== newMode) {\n      this.setState({\n        mode: e.target.dataset.mode,\n        filterText: \"\",\n      });\n    }\n  }\n\n  // handleTrussSelect (trussName) {\n  //     this.setState({\n  //         currentTruss: trussName,\n  //     });\n  // }\n\n  handleFilterTextChange(filterText) {\n    this.setState({\n      filterText: filterText,\n    });\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    quantity = parseInt(quantity);\n\n    let updatedSelectedFixtures = this.state.projectFixtures.slice();\n\n    let newFixture = getObj(APPDATA.fixtures, \"id\", fixtureId);\n\n    if (newFixture) {\n      let fixtureAlreadySelected = false;\n      updatedSelectedFixtures.forEach((fixture) => {\n        if (\n          fixture.id === fixtureId &&\n          fixture.truss === this.state.currentTruss\n        ) {\n          fixture.quantity = quantity;\n          fixtureAlreadySelected = true;\n          return;\n        }\n      });\n\n      if (!fixtureAlreadySelected) {\n        newFixture.quantity = quantity;\n        newFixture.selected = true;\n        newFixture.truss = this.state.currentTruss;\n        updatedSelectedFixtures.push(newFixture);\n      }\n    }\n\n    this.setState({\n      projectFixtures: updatedSelectedFixtures,\n    });\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    let remainingFixtures = this.state.projectFixtures.filter((fixture) => {\n      return fixtureId !== fixture.id;\n    });\n    this.setState({\n      projectFixtures: remainingFixtures,\n    });\n  }\n\n  handleFixtureClick(fixture) {\n    this.setState({\n      fixtureView: true,\n      selectedFixture: fixture,\n    });\n  }\n\n  handleBackClick(e) {\n    this.setState({\n      fixtureView: false,\n      selectedFixture: \"\",\n    });\n  }\n\n  render() {\n    let page;\n    if (this.state.fixtureView) {\n      page = <FixtureDetails fixture={this.state.selectedFixture} />;\n    } else {\n      if (this.state.mode === \"build\") {\n        page = (\n          <FilterableFixtureTable\n            fixtures={APPDATA.fixtures}\n            selectedFixtures={this.state.projectFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            filterText={this.state.filterText}\n            onFixtureClick={this.handleFixtureClick}\n            //currentTruss={this.props.currentTruss}\n          />\n        );\n      } else {\n        page = (\n          <Review\n            trussList={this.state.trussList}\n            selectedFixtures={this.state.projectFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            onFixtureClick={this.handleFixtureClick}\n          />\n        );\n      }\n    }\n\n    // let reviewStyle = (this.state.mode===\"review\") ? {fontWeight: 'bold'} : {fontWeight: 'lighter'};\n    // let buildStyle = (this.state.mode===\"build\") ? {fontWeight: 'bold'} : {fontWeight: 'lighter'};\n\n    return (\n      <div class=\"app\">\n        <Header\n          fixtureView={this.state.fixtureView}\n          mode={this.state.mode}\n          selectedFixture={this.state.selectedFixture}\n          onFilterTextChange={this.handleFilterTextChange}\n          onBackClick={this.handleBackClick}\n        />\n        <div class=\"page\">{page}</div>\n\n        <Footer mode={this.state.mode} onModeChange={this.handleBuildMode} />\n      </div>\n    );\n  }\n}\n\n//Request json and only render page when json retreived\nconst xmlhttp = new XMLHttpRequest();\nxmlhttp.onreadystatechange = function () {\n  if (this.readyState === 4 && this.status === 200) {\n    APPDATA = JSON.parse(this.responseText);\n\n    ReactDOM.render(<App />, document.querySelector(\"#root\"));\n  }\n};\nxmlhttp.open(\"GET\", \"fixtureData.json\", true);\nxmlhttp.send();\n"],"sourceRoot":""}