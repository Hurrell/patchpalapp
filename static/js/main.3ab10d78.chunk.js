(this.webpackJsonppatchpalapp=this.webpackJsonppatchpalapp||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),r=n(1),l=n(5),c=n(4),u=n(0),s=n.n(u),o=n(8),h=n.n(o),d=(n(15),n(9));function p(e){var t={number:Math.ceil(e),unit:"W"};return e>1e3&&(t={number:(e/1e3).toFixed(1),unit:"kW"}),t}function C(e){var t=0;return e&&e.forEach((function(e){e.quantity>=1&&(t+=Number(e.power)*Number(e.quantity))})),t}function v(e,t,n){var a;return e.forEach((function(e){e[t]!==n||(a=Object(d.a)({},e))})),a}var x,m=n(6),f=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleMinus=i.handleMinus.bind(Object(r.a)(i)),i.handlePlus=i.handlePlus.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e){this.props.onFixtureChange(this.props.fixture.id,e.target.value)}},{key:"handleMinus",value:function(){var e=this.props.fixture.quantity>0?this.props.fixture.quantity-=1:0;this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"handlePlus",value:function(){var e=this.props.fixture.quantity;e=Number(e)?Number(e)+1:1,this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"render",value:function(){var e=this.props.fixture,t="",n=s.a.createElement("div",null),a=s.a.createElement("div",null);return(e.quantity||0===e.quantity)&&(t=e.quantity,n=s.a.createElement("div",{onClick:this.handleMinus},s.a.createElement(m.e,{class:"plus-minus-icon"})),a=s.a.createElement("form",{class:"quantity-input",onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},s.a.createElement("input",{type:"text",pattern:"\\d*",maxlength:"2",value:t,onChange:this.handleFixtureChange,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}))),s.a.createElement("div",{class:"fixture-change"},n,a,s.a.createElement("div",{onClick:this.handlePlus},s.a.createElement(m.a,{class:"plus-minus-icon"})))}}]),n}(s.a.Component),k=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(){this.props.onRemoveButtonClick(this.props.fixture.id)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(this.props.fixture)}},{key:"render",value:function(){var e=this.props.fixture,t="";return e.selected&&(t=s.a.createElement("button",{class:"remove-button",type:"button",onClick:this.handleRemoveButtonClick},s.a.createElement(m.i,{class:"remove-button-x"}))),s.a.createElement("div",{class:"fixture-row"},s.a.createElement("div",{class:"remove-button-container"},t),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",{class:"fixture-row-title",onClick:this.handleFixtureClick},e.manufacturer," ",e.name)),s.a.createElement("div",{class:"fixture-in-row-details"},e.power,"W \xb7 ",e.weight,"kg")),s.a.createElement(f,{onFixtureChange:this.handleFixtureChange,fixture:this.props.fixture}))}}]),n}(s.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){var e=this,t=this.props.filterText,n=this.props.currentTruss,a=[];return this.props.fixtures.forEach((function(i){if(i.manufacturer.toLowerCase().includes(t.toLowerCase())||i.name.toLowerCase().includes(t.toLowerCase())){var r=i;e.props.selectedFixtures&&e.props.selectedFixtures.forEach((function(e){e.id!==i.id||e.truss!==n||(r=e)})),a.push(s.a.createElement(k,{fixture:r,key:i.id,onFixtureChange:e.handleFixtureChange,onRemoveButtonClick:e.handleRemoveButtonClick,onFixtureClick:e.handleFixtureClick}))}})),s.a.createElement("div",{class:"fixture-table"},a)}}]),n}(s.a.Component),F=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleProdCoChange=i.handleProdCoChange.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"handleProdCoChange",value:function(e){this.props.onProdCoChange(e.target.value)}},{key:"render",value:function(){var e=this.props.filterText;return s.a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},s.a.createElement("input",{autoFocus:!0,class:"search",type:"text",placeholder:"Search",value:e,onChange:this.handleFilterTextChange}))}}]),n}(s.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={filterText:"",productionCo:"default"},i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleProdCoChange=i.handleProdCoChange.bind(Object(r.a)(i)),i.handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleProdCoChange",value:function(e){this.setState({productionCo:e})}},{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(b,{fixtures:this.props.fixtures,selectedFixtures:this.props.selectedFixtures,filterText:this.props.filterText,productionCo:this.state.productionCo,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick}))}}]),n}(s.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){var e=0;return this.props.selectedFixtures.forEach((function(t){e+=Number(t.quantity)})),s.a.createElement("div",null,s.a.createElement("h2",null,"Selected Fixtures (",e,")"),s.a.createElement(b,{fixtures:this.props.selectedFixtures,filterText:"",productionCo:"",onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick}))}}]),n}(s.a.Component),j=(s.a.Component,function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=C(this.props.selectedFixtures);return s.a.createElement("div",{class:"review-power"},s.a.createElement("span",{class:"review-total"},p(e).number),s.a.createElement("span",{class:"review-unit"},p(e).unit))}}]),n}(s.a.Component)),O=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=C(this.props.selectedFixtures)/230;return s.a.createElement("div",{class:"review-amps"},s.a.createElement("span",{class:"review-total "},Math.ceil(e)),s.a.createElement("span",{class:"review-unit"},"A",s.a.createElement("sup",null,"(",230,"v)")))}}]),n}(s.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=0;return this.props.selectedFixtures&&this.props.selectedFixtures.forEach((function(t){t.quantity>=1&&(e+=Number(t.weight)*Number(t.quantity))})),s.a.createElement("div",{class:"review-weight"},s.a.createElement("span",{class:"review-total"},e.toFixed(0)),s.a.createElement("span",{class:"review-unit"},"kg"))}}]),n}(s.a.Component),B=(s.a.Component,function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.selectedFixtures.forEach((function(e){Number(e.quantity)})),s.a.createElement("div",null,s.a.createElement("div",{class:"totals"},s.a.createElement(j,{selectedFixtures:this.props.selectedFixtures}),s.a.createElement(y,{selectedFixtures:this.props.selectedFixtures}),s.a.createElement(O,{selectedFixtures:this.props.selectedFixtures})))}}]),n}(s.a.Component)),T=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"render",value:function(){return s.a.createElement("div",{class:"fixture-selector"},s.a.createElement(E,{fixtures:x.fixtures,selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}),s.a.createElement(g,{selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss}))}}]),n}(s.a.Component),R=(s.a.Component,s.a.Component,function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.fixture.manual?s.a.createElement("a",{href:this.props.fixture.manual,target:"_blank",rel:"noopener noreferrer"},"Manual"):"",t=this.props.fixture.specSheet?s.a.createElement("a",{href:this.props.fixture.specSheet,target:"_blank",rel:"noopener noreferrer"},"Spec Sheet"):"";return s.a.createElement("div",{class:"fixture-details"},s.a.createElement("div",null,"Manufacturer: ",this.props.fixture.manufacturer),s.a.createElement("div",null,"Weight: ",this.props.fixture.weight,"kg"),s.a.createElement("div",null,"Power: ",this.props.fixture.power,"W"),s.a.createElement("div",null,"Type: ",this.props.fixture.type),s.a.createElement("div",null,"Docs: ",e," ",t))}}]),n}(s.a.Component)),w=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(B,{selectedFixtures:this.props.selectedFixtures,name:"Totals"})),s.a.createElement("div",null,s.a.createElement(g,{selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick})))}}]),n}(s.a.Component),S=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={searchExtended:!1},i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleBackClick=i.handleBackClick.bind(Object(r.a)(i)),i.handleSearchClick=i.handleSearchClick.bind(Object(r.a)(i)),i.handleClearSearch=i.handleClearSearch.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e)}},{key:"handleBackClick",value:function(e){this.state.searchExtended?(this.props.onFilterTextChange(""),this.setState({searchExtended:!1})):this.props.onBackClick(e)}},{key:"handleSearchClick",value:function(e){this.setState({searchExtended:!0})}},{key:"handleClearSearch",value:function(e){this.props.onFilterTextChange("")}},{key:"render",value:function(){var e,t,n,a="header";switch(this.props.mode){case"build":switch(this.state.searchExtended){case!0:n=s.a.createElement("div",null,s.a.createElement(F,{filterText:this.props.filterText,onFilterTextChange:this.handleFilterTextChange})),e=s.a.createElement("div",{class:"left-icon-div",onClick:this.handleBackClick},s.a.createElement(m.b,{class:"left-icon"})),a="header-search",t=s.a.createElement("div",null);break;default:n=s.a.createElement("h1",{class:"title",onClick:this.handleSearchClick},"PatchPal"),e=s.a.createElement("div",{class:"left-icon-div",onClick:this.handleSearchClick},s.a.createElement(m.f,{class:"left-icon"})),t=s.a.createElement("div",null),a="header"}break;case"review":n=s.a.createElement("h1",{class:"title"},"Summary"),e=s.a.createElement("div",null),a="header-review";break;default:e=s.a.createElement("div",null),t=s.a.createElement("div",null),n=s.a.createElement("h1",null,"PatchPal")}return this.props.fixtureView&&(e=s.a.createElement("div",{class:"left-icon-div",onClick:this.handleBackClick},s.a.createElement(m.b,{class:"left-icon"})),n=s.a.createElement("h1",null,this.props.selectedFixture.name),t=s.a.createElement("div",null),a="header"),s.a.createElement("div",{class:a},e,n,t)}}]),n}(s.a.Component),M=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleBuildMode=i.handleBuildMode.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleBuildMode",value:function(e){this.props.onModeChange(e)}},{key:"render",value:function(){var e="review"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},t="build"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},n="build"===this.props.mode?s.a.createElement(m.g,{class:"footer-icon"}):s.a.createElement(m.h,{class:"footer-icon"}),a="review"===this.props.mode?s.a.createElement(m.d,{class:"footer-icon"}):s.a.createElement(m.c,{class:"footer-icon"});return s.a.createElement("div",{id:"footer"},s.a.createElement("div",null),s.a.createElement("div",{class:"child-clicks-this",style:t,onClick:this.handleBuildMode,"data-mode":"build"},n),s.a.createElement("div",null),s.a.createElement("div",{class:"child-clicks-this","pointer-events":"none",style:e,onClick:this.handleBuildMode,"data-mode":"review"},a),s.a.createElement("div",null))}}]),n}(s.a.Component),P=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={mode:"build",projectFixtures:[],filterText:"",selectedFixture:{},fixtureView:!1},i.handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleBuildMode=i.handleBuildMode.bind(Object(r.a)(i)),i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i.handleBackClick=i.handleBackClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleBuildMode",value:function(e){var t=e.target.dataset.mode;this.setState({fixtureView:!1}),this.state.mode!==t&&this.setState({mode:e.target.dataset.mode,filterText:""})}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFixtureChange",value:function(e,t){var n=this;t=parseInt(t);var a=this.state.projectFixtures.slice(),i=v(x.fixtures,"id",e);if(i){var r=!1;a.forEach((function(a){if(a.id===e&&a.truss===n.state.currentTruss)return a.quantity=t,void(r=!0)})),r||(i.quantity=t,i.selected=!0,i.truss=this.state.currentTruss,a.push(i))}this.setState({projectFixtures:a})}},{key:"handleRemoveButtonClick",value:function(e){var t=this.state.projectFixtures.filter((function(t){return e!==t.id}));this.setState({projectFixtures:t})}},{key:"handleFixtureClick",value:function(e){this.setState({fixtureView:!0,selectedFixture:e})}},{key:"handleBackClick",value:function(e){this.setState({fixtureView:!1,selectedFixture:""})}},{key:"render",value:function(){var e;return e=this.state.fixtureView?s.a.createElement(R,{fixture:this.state.selectedFixture}):"build"===this.state.mode?s.a.createElement(E,{fixtures:x.fixtures,selectedFixtures:this.state.projectFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,filterText:this.state.filterText,onFixtureClick:this.handleFixtureClick}):s.a.createElement(w,{trussList:this.state.trussList,selectedFixtures:this.state.projectFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,onFixtureClick:this.handleFixtureClick}),s.a.createElement("div",{class:"app"},s.a.createElement(S,{fixtureView:this.state.fixtureView,mode:this.state.mode,selectedFixture:this.state.selectedFixture,onFilterTextChange:this.handleFilterTextChange,onBackClick:this.handleBackClick}),s.a.createElement("div",{class:"page"},e),s.a.createElement(M,{mode:this.state.mode,onModeChange:this.handleBuildMode}))}}]),n}(s.a.Component),q=new XMLHttpRequest;q.onreadystatechange=function(){4===this.readyState&&200===this.status&&(x=JSON.parse(this.responseText),h.a.render(s.a.createElement(P,null),document.querySelector("#root")))},q.open("GET","fixtureData.json",!0),q.send()}},[[10,1,2]]]);
//# sourceMappingURL=main.3ab10d78.chunk.js.map