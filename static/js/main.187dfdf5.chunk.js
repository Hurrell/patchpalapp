(this.webpackJsonppatchpalapp=this.webpackJsonppatchpalapp||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),r=n(1),l=n(5),c=n(4),s=n(0),u=n.n(s),o=n(8),h=n.n(o),d=(n(15),n(9));function p(e){var t={number:Math.ceil(e),unit:"W"};return e>1e3&&(t={number:(e/1e3).toFixed(1),unit:"kW"}),t}function v(e){var t=0;return e&&e.forEach((function(e){e.quantity>=1&&(t+=Number(e.power)*Number(e.quantity))})),t}var m,x=n(6),C=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleMinus=i.handleMinus.bind(Object(r.a)(i)),i.handlePlus=i.handlePlus.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e){this.props.onFixtureChange(this.props.fixture.id,e.target.value)}},{key:"handleMinus",value:function(){var e=this.props.fixture.quantity>0?this.props.fixture.quantity-=1:0;this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"handlePlus",value:function(){var e=this.props.fixture.quantity;e=Number(e)?Number(e)+1:1,this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"render",value:function(){var e=this.props.fixture,t="",n=u.a.createElement("div",null),a=u.a.createElement("div",null);return(e.quantity||0===e.quantity)&&(t=e.quantity,n=u.a.createElement("div",{onClick:this.handleMinus},u.a.createElement(x.e,{class:"plus-minus-icon"})),a=u.a.createElement("form",{class:"quantity-input",onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},u.a.createElement("input",{type:"text",pattern:"\\d*",maxlength:"2",value:t,onChange:this.handleFixtureChange,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}))),u.a.createElement("div",{class:"fixture-change"},n,a,u.a.createElement("div",{onClick:this.handlePlus},u.a.createElement(x.a,{class:"plus-minus-icon"})))}}]),n}(u.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(){this.props.onRemoveButtonClick(this.props.fixture.id)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(this.props.fixture)}},{key:"render",value:function(){var e=this.props.fixture,t="";return e.selected&&(t=u.a.createElement("button",{class:"remove-button",type:"button",onClick:this.handleRemoveButtonClick},u.a.createElement(x.i,{class:"remove-button-x"}))),u.a.createElement("div",{class:"fixture-row"},u.a.createElement("div",{class:"remove-button-container"},t),u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("span",{class:"fixture-row-title",onClick:this.handleFixtureClick},e.manufacturer," ",e.name)),u.a.createElement("div",{class:"fixture-in-row-details"},e.power,"W \xb7 ",e.weight,"kg")),u.a.createElement(C,{onFixtureChange:this.handleFixtureChange,fixture:this.props.fixture}))}}]),n}(u.a.Component),k=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){var e=this,t=this.props.filterText,n=this.props.currentTruss,a=[];return this.props.fixtures.forEach((function(i){if(function(e,t){var n=!0;return e.split(" ").forEach((function(e){t.manufacturer.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||(n=!1)})),n}(t,i)){var r=i;e.props.selectedFixtures&&e.props.selectedFixtures.forEach((function(e){e.id!==i.id||e.truss!==n||(r=e)})),a.push(u.a.createElement(f,{fixture:r,key:i.id,onFixtureChange:e.handleFixtureChange,onRemoveButtonClick:e.handleRemoveButtonClick,onFixtureClick:e.handleFixtureClick}))}})),0===a.length?"build"===this.props.mode?u.a.createElement("div",{class:"search-fail-text"},"No matches :("):"review"===this.props.mode?u.a.createElement("div",{class:"search-fail-text"},"No fixtures selected!"):u.a.createElement("div",null):u.a.createElement("div",{class:"fixture-table"},a)}}]),n}(u.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleProdCoChange=i.handleProdCoChange.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"handleProdCoChange",value:function(e){this.props.onProdCoChange(e.target.value)}},{key:"render",value:function(){var e=this.props.filterText;return u.a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},u.a.createElement("input",{autoFocus:!0,class:"search",type:"text",placeholder:"Search",value:e,onChange:this.handleFilterTextChange}))}}]),n}(u.a.Component),F=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={filterText:"",productionCo:"default"},i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleProdCoChange=i.handleProdCoChange.bind(Object(r.a)(i)),i.handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleProdCoChange",value:function(e){this.setState({productionCo:e})}},{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(k,{mode:this.props.mode,fixtures:this.props.fixtures,selectedFixtures:this.props.selectedFixtures,filterText:this.props.filterText,productionCo:this.state.productionCo,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick}))}}]),n}(u.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){var e=0;return this.props.selectedFixtures.forEach((function(t){e+=Number(t.quantity)})),u.a.createElement("div",null,u.a.createElement("div",{class:"selected-heading"},u.a.createElement("h2",null,"Selected Fixtures (",e,")")),u.a.createElement(k,{mode:this.props.mode,fixtures:this.props.selectedFixtures,filterText:"",productionCo:"",onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick}))}}]),n}(u.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=v(this.props.selectedFixtures);return u.a.createElement("div",{class:"review-power"},u.a.createElement("span",{class:"review-total"},p(e).number),u.a.createElement("span",{class:"review-unit"},p(e).unit))}}]),n}(u.a.Component),j=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=v(this.props.selectedFixtures)/230;return u.a.createElement("div",{class:"review-amps"},u.a.createElement("span",{class:"review-total "},Math.ceil(e)),u.a.createElement("span",{class:"review-unit"},"A",u.a.createElement("sup",null,"(",230,"v)")))}}]),n}(u.a.Component),O=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=0;return this.props.selectedFixtures&&this.props.selectedFixtures.forEach((function(t){t.quantity>=1&&(e+=Number(t.weight)*Number(t.quantity))})),u.a.createElement("div",{class:"review-weight"},u.a.createElement("span",{class:"review-total"},e.toFixed(0)),u.a.createElement("span",{class:"review-unit"},"kg"))}}]),n}(u.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.selectedFixtures.forEach((function(e){Number(e.quantity)})),u.a.createElement("div",null,u.a.createElement("div",{class:"totals"},u.a.createElement(g,{selectedFixtures:this.props.selectedFixtures}),u.a.createElement(O,{selectedFixtures:this.props.selectedFixtures}),u.a.createElement(j,{selectedFixtures:this.props.selectedFixtures})))}}]),n}(u.a.Component),B=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.fixture.manual?u.a.createElement("a",{href:this.props.fixture.manual,target:"_blank",rel:"noopener noreferrer"},"Manual"):"",t=this.props.fixture.specSheet?u.a.createElement("a",{href:this.props.fixture.specSheet,target:"_blank",rel:"noopener noreferrer"},"Spec Sheet"):"",n=e||t?u.a.createElement("div",null,"Documents: ",e," ",t):u.a.createElement("div",null);return u.a.createElement("div",{class:"fixture-details"},u.a.createElement("div",null,"Manufacturer: ",this.props.fixture.manufacturer),u.a.createElement("div",null,"Weight: ",this.props.fixture.weight,"kg"),u.a.createElement("div",null,"Power: ",this.props.fixture.power,"W"),u.a.createElement("div",null,"Type: ",this.props.fixture.type),n)}}]),n}(u.a.Component),T=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement(y,{selectedFixtures:this.props.selectedFixtures,name:"Totals"})),u.a.createElement("div",null,u.a.createElement(E,{mode:this.props.mode,selectedFixtures:this.props.selectedFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,currentTruss:this.props.currentTruss,onFixtureClick:this.handleFixtureClick})))}}]),n}(u.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={searchExtended:!1},i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleBackClick=i.handleBackClick.bind(Object(r.a)(i)),i.handleSearchClick=i.handleSearchClick.bind(Object(r.a)(i)),i.handleClearSearch=i.handleClearSearch.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e)}},{key:"handleBackClick",value:function(e){this.state.searchExtended?(this.props.onFilterTextChange(""),this.setState({searchExtended:!1})):this.props.onBackClick(e)}},{key:"handleSearchClick",value:function(e){this.setState({searchExtended:!0})}},{key:"handleClearSearch",value:function(e){this.props.onFilterTextChange("")}},{key:"render",value:function(){var e,t,n,a="header";switch(this.props.mode){case"build":switch(this.state.searchExtended){case!0:n=u.a.createElement("div",null,u.a.createElement(b,{filterText:this.props.filterText,onFilterTextChange:this.handleFilterTextChange})),e=u.a.createElement("div",{class:"left-icon-div",onClick:this.handleBackClick},u.a.createElement(x.b,{class:"left-icon"})),a="header-search",t=u.a.createElement("div",null);break;default:n=u.a.createElement("h1",{class:"title",onClick:this.handleSearchClick},"PatchPal"),e=u.a.createElement("div",{class:"left-icon-div",onClick:this.handleSearchClick},u.a.createElement(x.f,{class:"left-icon"})),t=u.a.createElement("div",null),a="header"}break;case"review":n=u.a.createElement("h1",{class:"title"},"Summary"),e=u.a.createElement("div",null),a="header-review";break;default:e=u.a.createElement("div",null),t=u.a.createElement("div",null),n=u.a.createElement("h1",null,"PatchPal")}return this.props.fixtureView&&(e=u.a.createElement("div",{class:"left-icon-div",onClick:this.handleBackClick},u.a.createElement(x.b,{class:"left-icon"})),n=u.a.createElement("h1",null,this.props.selectedFixture.name),t=u.a.createElement("div",null),a="header"),u.a.createElement("div",{class:a},e,n,t)}}]),n}(u.a.Component),R=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleBuildMode=i.handleBuildMode.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleBuildMode",value:function(e){this.props.onModeChange(e)}},{key:"render",value:function(){var e="review"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},t="build"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},n="build"===this.props.mode?u.a.createElement(x.g,{class:"footer-icon"}):u.a.createElement(x.h,{class:"footer-icon"}),a="review"===this.props.mode?u.a.createElement(x.d,{class:"footer-icon"}):u.a.createElement(x.c,{class:"footer-icon"});return u.a.createElement("div",{class:"footer-container-container"},u.a.createElement("div",{class:"footer-container"},u.a.createElement("div",{id:"footer"},u.a.createElement("div",null),u.a.createElement("div",{class:"child-clicks-this",style:t,onClick:this.handleBuildMode,"data-mode":"build"},n),u.a.createElement("div",null),u.a.createElement("div",{class:"child-clicks-this","pointer-events":"none",style:e,onClick:this.handleBuildMode,"data-mode":"review"},a),u.a.createElement("div",null))))}}]),n}(u.a.Component),S=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={mode:"build",projectFixtures:[],filterText:"",selectedFixture:{},fixtureView:!1},i.handleFixtureChange=i.handleFixtureChange.bind(Object(r.a)(i)),i.handleRemoveButtonClick=i.handleRemoveButtonClick.bind(Object(r.a)(i)),i.handleBuildMode=i.handleBuildMode.bind(Object(r.a)(i)),i.handleFilterTextChange=i.handleFilterTextChange.bind(Object(r.a)(i)),i.handleFixtureClick=i.handleFixtureClick.bind(Object(r.a)(i)),i.handleBackClick=i.handleBackClick.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleBuildMode",value:function(e){var t=e.target.dataset.mode;this.setState({fixtureView:!1}),this.state.mode!==t&&this.setState({mode:e.target.dataset.mode,filterText:""})}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFixtureChange",value:function(e,t){var n=this;t=parseInt(t);var a=this.state.projectFixtures.slice(),i=function(e,t,n){var a;return e.forEach((function(e){e[t]!==n||(a=Object(d.a)({},e))})),a}(m.fixtures,"id",e);if(i){var r=!1;a.forEach((function(a){if(a.id===e&&a.truss===n.state.currentTruss)return a.quantity=t,void(r=!0)})),r||(i.quantity=t,i.selected=!0,i.truss=this.state.currentTruss,a.push(i))}this.setState({projectFixtures:a})}},{key:"handleRemoveButtonClick",value:function(e){var t=this.state.projectFixtures.filter((function(t){return e!==t.id}));this.setState({projectFixtures:t})}},{key:"handleFixtureClick",value:function(e){this.setState({fixtureView:!0,selectedFixture:e})}},{key:"handleBackClick",value:function(e){this.setState({fixtureView:!1,selectedFixture:""})}},{key:"render",value:function(){var e;return e=this.state.fixtureView?u.a.createElement(B,{fixture:this.state.selectedFixture}):"build"===this.state.mode?u.a.createElement(F,{mode:this.state.mode,fixtures:m.fixtures,selectedFixtures:this.state.projectFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,filterText:this.state.filterText,onFixtureClick:this.handleFixtureClick}):u.a.createElement(T,{mode:this.state.mode,trussList:this.state.trussList,selectedFixtures:this.state.projectFixtures,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,onFixtureClick:this.handleFixtureClick}),u.a.createElement("div",{class:"app"},u.a.createElement("div",{class:"header-container-container"},u.a.createElement("div",{class:"header-container"},u.a.createElement(w,{fixtureView:this.state.fixtureView,mode:this.state.mode,selectedFixture:this.state.selectedFixture,onFilterTextChange:this.handleFilterTextChange,onBackClick:this.handleBackClick}))),u.a.createElement("div",{class:"page"},e),u.a.createElement(R,{mode:this.state.mode,onModeChange:this.handleBuildMode}))}}]),n}(u.a.Component),M=new XMLHttpRequest;M.onreadystatechange=function(){4===this.readyState&&200===this.status&&(m=JSON.parse(this.responseText),h.a.render(u.a.createElement(S,null),document.querySelector("#root")))},M.open("GET","fixtureData.json",!0),M.send()}},[[10,1,2]]]);
//# sourceMappingURL=main.187dfdf5.chunk.js.map