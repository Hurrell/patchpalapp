{"version":3,"sources":["tools.js","index.js"],"names":["printPower","power","visualPower","number","Math","ceil","unit","toFixed","powerDraw","selectedFixtures","forEach","fixture","quantity","Number","APPDATA","FixtureAdd","props","handleFixtureChange","bind","handleMinus","handlePlus","e","this","onFixtureChange","id","target","value","quantityShown","minusSymbol","numberInput","onClick","class","onKeyPress","key","preventDefault","type","pattern","maxlength","onChange","onKeyDown","evt","includes","React","Component","FixtureRow","handleRemoveButtonClick","handleFixtureClick","onRemoveButtonClick","onFixtureClick","removeButton","selected","manufacturer","name","weight","FixtureTable","fixtureId","filterText","currentTruss","rows","fixtures","match","split","word","toLowerCase","matchAgainst","fixtureSelectedOrNot","selectFixture","truss","push","length","mode","SearchBar","handleFilterTextChange","handleProdCoChange","onFilterTextChange","onProdCoChange","autoFocus","placeholder","FilterableFixtureTable","state","productionCo","setState","SelectedFixturesTable","fixtureCount","TotalPower","TotalAmps","amps","TotalWeight","Totals","FixtureDetails","manual","href","rel","specSheet","docs","Review","Header","searchExtended","handleBackClick","handleSearchClick","handleClearSearch","text","onBackClick","leftIcon","rightIcon","title","headerClass","fixtureView","selectedFixture","Footer","handleBuildMode","onModeChange","reviewStyle","fontWeight","buildStyle","searchIcon","listIcon","style","data-mode","pointer-events","App","projectFixtures","newMode","dataset","parseInt","updatedSelectedFixtures","slice","newFixture","list","keyName","foundObj","obj","getObj","fixtureAlreadySelected","remainingFixtures","filter","page","trussList","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","ReactDOM","render","document","querySelector","open","send"],"mappings":"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","file":"static/js/main.187dfdf5.chunk.js","sourcesContent":["//match function\n//takes in fixture and filtertext\n//returns true if match\n//false if not match\nfunction matchAgainst(filterText, fixture) {\n  let match = true;\n  let filterWords = filterText.split(\" \");\n  filterWords.forEach((word) => {\n    if (\n      !(\n        fixture.manufacturer.toLowerCase().includes(word.toLowerCase()) ||\n        fixture.name.toLowerCase().includes(word.toLowerCase())\n      )\n    ) {\n      match = false;\n    }\n  });\n  return match;\n}\n\n//function to prettify power results - number in, obj with number and unit out\nfunction printPower(power) {\n  let visualPower = {\n    number: Math.ceil(power),\n    unit: \"W\",\n  };\n\n  if (power > 1000) {\n    visualPower = {\n      number: (power / 1000).toFixed(1),\n      unit: \"kW\",\n    };\n  }\n\n  return visualPower;\n}\n\n//function to get total power draw from selected fixtures\nfunction powerDraw(selectedFixtures) {\n  let power = 0;\n  if (selectedFixtures) {\n    selectedFixtures.forEach((fixture) => {\n      if (fixture.quantity >= 1) {\n        power += Number(fixture.power) * Number(fixture.quantity);\n      }\n    });\n  }\n  return power;\n}\n\n//Function to return an object from list using key\nfunction getObj(list, keyName, id) {\n  let foundObj;\n  list.forEach((obj) => {\n    if (obj[keyName] === id) {\n      foundObj = { ...obj };\n      return;\n    }\n  });\n  return foundObj;\n}\n\nexport { printPower, powerDraw, getObj, matchAgainst };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { printPower, powerDraw, getObj, matchAgainst } from \"./tools.js\";\nimport {\n  IoIosSearch,\n  IoIosList,\n  IoIosListBox,\n  IoIosArrowBack,\n  IoMdAddCircleOutline,\n  IoMdAddCircle,\n  IoMdClose,\n  IoIosAdd,\n  IoIosRemove,\n} from \"react-icons/io\";\n\nvar APPDATA;\nconst VOLTAGE = 230;\n\n/*Components\nA) App  \n    mode (search, review, fixture) -- state\n    filter text --state\n    projectfixtures --state\n    fixture selected --state\n    \n    1) Footer\n        mode -- props\n    \n    2) Header\n    mode --props\n    filter text --props\n    fixture selected --props\n\n    3) Fixture Table\n    mode --props\n    projectfixtures --props\n    search text --props\n    \n        a) Fixture Row\n            fixture --props\n    \n    4) Fixture Details\n        fixture selected --props\n\n*/\n\nclass FixtureAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleMinus = this.handleMinus.bind(this);\n    this.handlePlus = this.handlePlus.bind(this);\n  }\n\n  handleFixtureChange(e) {\n    this.props.onFixtureChange(this.props.fixture.id, e.target.value);\n  }\n\n  handleMinus() {\n    let quantity =\n      this.props.fixture.quantity > 0 ? (this.props.fixture.quantity -= 1) : 0;\n    this.props.onFixtureChange(this.props.fixture.id, quantity);\n  }\n  handlePlus() {\n    let quantity = this.props.fixture.quantity;\n    if (Number(quantity)) {\n      quantity = Number(quantity) + 1;\n    } else {\n      quantity = 1;\n    }\n    this.props.onFixtureChange(this.props.fixture.id, quantity);\n  }\n  render() {\n    const fixture = this.props.fixture;\n    let quantityShown = \"\";\n    let minusSymbol = <div></div>;\n    let numberInput = <div></div>;\n    if (fixture.quantity || fixture.quantity === 0) {\n      quantityShown = fixture.quantity;\n      minusSymbol = (\n        <div onClick={this.handleMinus}>\n          <IoIosRemove class=\"plus-minus-icon\" />\n        </div>\n      );\n      numberInput = (\n        <form\n          class=\"quantity-input\"\n          onKeyPress={(e) => {\n            e.key === \"Enter\" && e.preventDefault();\n          }}\n        >\n          <input\n            //background-image={plusSign}\n            type=\"text\"\n            pattern=\"\\d*\"\n            maxlength=\"2\"\n            value={quantityShown}\n            onChange={this.handleFixtureChange}\n            onKeyDown={(evt) =>\n              [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault()\n            }\n          />\n        </form>\n      );\n    }\n    return (\n      <div class=\"fixture-change\">\n        {minusSymbol}\n        {numberInput}\n        <div onClick={this.handlePlus}>\n          <IoIosAdd class=\"plus-minus-icon\" />\n        </div>\n      </div>\n    );\n  }\n}\nclass FixtureRow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n  handleFixtureChange(fixture, value) {\n    this.props.onFixtureChange(fixture, value);\n  }\n\n  handleRemoveButtonClick() {\n    this.props.onRemoveButtonClick(this.props.fixture.id);\n  }\n\n  handleFixtureClick(e) {\n    this.props.onFixtureClick(this.props.fixture);\n  }\n\n  render() {\n    const fixture = this.props.fixture;\n    let removeButton = \"\";\n    if (fixture.selected) {\n      removeButton = (\n        <button\n          class=\"remove-button\"\n          type=\"button\"\n          onClick={this.handleRemoveButtonClick}\n        >\n          <IoMdClose class=\"remove-button-x\" />\n        </button>\n      );\n    }\n\n    //let plusSign = (<IoIosAdd/>);\n    return (\n      <div class=\"fixture-row\">\n        <div class=\"remove-button-container\">{removeButton}</div>\n        <div>\n          <div>\n            <span class=\"fixture-row-title\" onClick={this.handleFixtureClick}>\n              {fixture.manufacturer} {fixture.name}\n            </span>\n          </div>\n          <div class=\"fixture-in-row-details\">\n            {fixture.power}W · {fixture.weight}kg\n          </div>\n        </div>\n        <FixtureAdd\n          onFixtureChange={this.handleFixtureChange}\n          fixture={this.props.fixture}\n        />\n      </div>\n    );\n  }\n}\n\nclass FixtureTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n    //const productionCo = this.props.productionCo;\n    const currentTruss = this.props.currentTruss;\n\n    const rows = [];\n\n    this.props.fixtures.forEach((fixture) => {\n      //filter by search\n      if (!matchAgainst(filterText, fixture)) {\n        return;\n      }\n\n      //replace with selected fixture if necessary\n      let fixtureSelectedOrNot = fixture;\n      if (this.props.selectedFixtures) {\n        this.props.selectedFixtures.forEach((selectFixture) => {\n          if (\n            selectFixture.id === fixture.id &&\n            selectFixture.truss === currentTruss\n          ) {\n            fixtureSelectedOrNot = selectFixture;\n            return;\n          }\n        });\n      }\n\n      rows.push(\n        <FixtureRow\n          fixture={fixtureSelectedOrNot}\n          key={fixture.id}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      );\n    });\n\n    if (rows.length === 0) {\n      if (this.props.mode === \"build\") {\n        return <div class=\"search-fail-text\">No matches :(</div>;\n      } else if (this.props.mode === \"review\") {\n        return <div class=\"search-fail-text\">No fixtures selected!</div>;\n      } else {\n        return <div></div>;\n      }\n    } else {\n      return <div class=\"fixture-table\">{rows}</div>;\n    }\n  }\n}\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleProdCoChange = this.handleProdCoChange.bind(this);\n  }\n\n  handleFilterTextChange(e) {\n    this.props.onFilterTextChange(e.target.value);\n  }\n\n  handleProdCoChange(e) {\n    this.props.onProdCoChange(e.target.value);\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n\n    return (\n      <form\n        onKeyPress={(e) => {\n          e.key === \"Enter\" && e.preventDefault();\n        }}\n      >\n        <input\n          autoFocus\n          class=\"search\"\n          type=\"text\"\n          placeholder=\"Search\"\n          value={filterText}\n          onChange={this.handleFilterTextChange}\n        />\n        {/* <p>\n                    <select onChange={this.handleProdCoChange}>\n                        <option value = \"default\">Filter by Production Co.</option>\n                        <option value = \"CSE\">CSE</option>\n                        <option value = \"Siyan\">Siyan</option>\n                    </select>\n                </p> */}\n      </form>\n    );\n  }\n}\n\nclass FilterableFixtureTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: \"\",\n      productionCo: \"default\",\n    };\n\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleProdCoChange = this.handleProdCoChange.bind(this);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFilterTextChange(filterText) {\n    this.setState({\n      filterText: filterText,\n    });\n  }\n\n  handleProdCoChange(productionCo) {\n    this.setState({\n      productionCo: productionCo,\n    });\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    return (\n      <div>\n        <FixtureTable\n          mode={this.props.mode}\n          fixtures={this.props.fixtures}\n          selectedFixtures={this.props.selectedFixtures}\n          filterText={this.props.filterText}\n          productionCo={this.state.productionCo}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      </div>\n    );\n  }\n}\n\nclass SelectedFixturesTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    let fixtureCount = 0;\n    this.props.selectedFixtures.forEach((fixture) => {\n      fixtureCount += Number(fixture.quantity);\n    });\n    return (\n      <div>\n        <div class=\"selected-heading\">\n          <h2>Selected Fixtures ({fixtureCount})</h2>\n        </div>\n\n        <FixtureTable\n          mode={this.props.mode}\n          fixtures={this.props.selectedFixtures}\n          filterText={\"\"}\n          productionCo={\"\"}\n          onFixtureChange={this.handleFixtureChange}\n          onRemoveButtonClick={this.handleRemoveButtonClick}\n          currentTruss={this.props.currentTruss}\n          onFixtureClick={this.handleFixtureClick}\n        />\n      </div>\n    );\n  }\n}\n\nclass TotalPower extends React.Component {\n  render() {\n    let power = powerDraw(this.props.selectedFixtures);\n\n    let amps = power / VOLTAGE;\n\n    return (\n      <div class=\"review-power\">\n        <span class=\"review-total\">{printPower(power).number}</span>\n        <span class=\"review-unit\">{printPower(power).unit}</span>\n        {/* <p>\n                    {Math.ceil(amps)}A\n                </p> */}\n      </div>\n    );\n  }\n}\n\nclass TotalAmps extends React.Component {\n  render() {\n    let power = powerDraw(this.props.selectedFixtures);\n\n    let amps = power / VOLTAGE;\n\n    return (\n      <div class=\"review-amps\">\n        <span class=\"review-total \">{Math.ceil(amps)}</span>\n        <span class=\"review-unit\">\n          A<sup>({VOLTAGE}v)</sup>\n        </span>\n      </div>\n    );\n  }\n}\n\nclass TotalWeight extends React.Component {\n  render() {\n    let weight = 0;\n    if (this.props.selectedFixtures) {\n      this.props.selectedFixtures.forEach((fixture) => {\n        if (fixture.quantity >= 1) {\n          weight += Number(fixture.weight) * Number(fixture.quantity);\n        }\n      });\n    }\n\n    return (\n      <div class=\"review-weight\">\n        <span class=\"review-total\">{weight.toFixed(0)}</span>\n        <span class=\"review-unit\">kg</span>\n      </div>\n    );\n  }\n}\n\nclass Totals extends React.Component {\n  render() {\n    let fixtureCount = 0;\n    this.props.selectedFixtures.forEach((fixture) => {\n      fixtureCount += Number(fixture.quantity);\n    });\n    return (\n      <div>\n        <div class=\"totals\">\n          <TotalPower selectedFixtures={this.props.selectedFixtures} />\n\n          <TotalWeight selectedFixtures={this.props.selectedFixtures} />\n          {/* <p>Fixture Count: {fixtureCount}</p> */}\n          <TotalAmps selectedFixtures={this.props.selectedFixtures} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass FixtureDetails extends React.Component {\n  render() {\n    let manual = this.props.fixture.manual ? (\n      <a\n        href={this.props.fixture.manual}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Manual\n      </a>\n    ) : (\n      \"\"\n    );\n    let specSheet = this.props.fixture.specSheet ? (\n      <a\n        href={this.props.fixture.specSheet}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Spec Sheet\n      </a>\n    ) : (\n      \"\"\n    );\n\n    let docs =\n      manual || specSheet ? (\n        <div>\n          Documents: {manual} {specSheet}\n        </div>\n      ) : (\n        <div></div>\n      );\n    return (\n      <div class=\"fixture-details\">\n        <div>Manufacturer: {this.props.fixture.manufacturer}</div>\n        <div>Weight: {this.props.fixture.weight}kg</div>\n        <div>Power: {this.props.fixture.power}W</div>\n        <div>Type: {this.props.fixture.type}</div>\n        {docs}\n        {/* <div>Rented by: {this.props.fixture.productionCos}</div> */}\n      </div>\n    );\n  }\n}\n\nclass Review extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    //this.handleSelectedFixtureChange = this.handleSelectedFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    this.props.onFixtureChange(fixtureId, quantity);\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    this.props.onRemoveButtonClick(fixtureId);\n  }\n\n  handleFixtureClick(fixture) {\n    this.props.onFixtureClick(fixture);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <Totals\n            selectedFixtures={this.props.selectedFixtures}\n            name=\"Totals\"\n          />\n        </div>\n        <div>\n          <SelectedFixturesTable\n            mode={this.props.mode}\n            selectedFixtures={this.props.selectedFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            currentTruss={this.props.currentTruss}\n            onFixtureClick={this.handleFixtureClick}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchExtended: false,\n    };\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleBackClick = this.handleBackClick.bind(this);\n    this.handleSearchClick = this.handleSearchClick.bind(this);\n    this.handleClearSearch = this.handleClearSearch.bind(this);\n  }\n\n  handleFilterTextChange(text) {\n    this.props.onFilterTextChange(text);\n  }\n\n  handleBackClick(e) {\n    if (this.state.searchExtended) {\n      this.props.onFilterTextChange(\"\");\n      this.setState({\n        searchExtended: false,\n      });\n    } else {\n      this.props.onBackClick(e);\n    }\n  }\n  handleSearchClick(e) {\n    this.setState({\n      searchExtended: true,\n    });\n  }\n\n  handleClearSearch(e) {\n    this.props.onFilterTextChange(\"\");\n  }\n\n  render() {\n    let leftIcon;\n    let rightIcon;\n    let title;\n    //let backLink;\n    //let searchBar;\n    let headerClass = \"header\";\n    // let searchBarExtend = (<SearchBar\n    //         filterText={this.props.filterText}\n    //         onFilterTextChange={this.handleFilterTextChange}\n    //         //onProdCoChange={this.handleProdCoChange}\n    //         />)\n    switch (this.props.mode) {\n      case \"build\":\n        switch (this.state.searchExtended) {\n          case true:\n            title = (\n              <div>\n                <SearchBar\n                  filterText={this.props.filterText}\n                  onFilterTextChange={this.handleFilterTextChange}\n                  //onProdCoChange={this.handleProdCoChange}\n                />\n              </div>\n            );\n            leftIcon = (\n              <div class=\"left-icon-div\" onClick={this.handleBackClick}>\n                <IoIosArrowBack class=\"left-icon\" />\n              </div>\n            );\n            // rightIcon = (<IoMdClose\n            //     class=\"right-icon\"\n            //     onClick={this.handleClearSearch}\n            //     />\n            //     )\n            headerClass = \"header-search\";\n            rightIcon = <div></div>;\n            break;\n          default:\n            title = (\n              <h1 class=\"title\" onClick={this.handleSearchClick}>\n                PatchPal\n              </h1>\n            );\n            leftIcon = (\n              <div class=\"left-icon-div\" onClick={this.handleSearchClick}>\n                <IoIosSearch class=\"left-icon\" />\n              </div>\n            );\n            rightIcon = <div></div>;\n            //backLink = (<div></div>);\n            headerClass = \"header\";\n        }\n        break;\n      case \"review\":\n        title = <h1 class=\"title\">Summary</h1>;\n        leftIcon = <div></div>;\n        headerClass = \"header-review\";\n        // rightIcon = (\n        //   <select id=\"voltage\">\n        //     <option value=\"230\">230V</option>\n        //     <option value=\"220\">220V</option>\n        //     <option value=\"120\">120V</option>\n        //   </select>\n        // );\n        break;\n      default:\n        leftIcon = <div></div>;\n        rightIcon = <div></div>;\n        title = <h1>PatchPal</h1>;\n    }\n\n    if (this.props.fixtureView) {\n      leftIcon = (\n        <div class=\"left-icon-div\" onClick={this.handleBackClick}>\n          <IoIosArrowBack class=\"left-icon\" />\n        </div>\n      );\n      title = <h1>{this.props.selectedFixture.name}</h1>;\n      rightIcon = <div></div>;\n      headerClass = \"header\";\n    }\n\n    return (\n      <div class={headerClass}>\n        {leftIcon}\n        {title}\n        {rightIcon}\n      </div>\n    );\n  }\n}\n\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleBuildMode = this.handleBuildMode.bind(this);\n  }\n  handleBuildMode(e) {\n    this.props.onModeChange(e);\n  }\n  render() {\n    let reviewStyle =\n      this.props.mode === \"review\"\n        ? { fontWeight: \"bold\" }\n        : { fontWeight: \"lighter\" };\n    let buildStyle =\n      this.props.mode === \"build\"\n        ? { fontWeight: \"bold\" }\n        : { fontWeight: \"lighter\" };\n    let searchIcon =\n      this.props.mode === \"build\" ? (\n        <IoMdAddCircle class=\"footer-icon\" />\n      ) : (\n        <IoMdAddCircleOutline class=\"footer-icon\" />\n      );\n    let listIcon =\n      this.props.mode === \"review\" ? (\n        <IoIosListBox class=\"footer-icon\" />\n      ) : (\n        <IoIosList class=\"footer-icon\" />\n      );\n\n    return (\n      <div class=\"footer-container-container\">\n        <div class=\"footer-container\">\n          <div id=\"footer\">\n            <div></div>\n            <div\n              class=\"child-clicks-this\"\n              style={buildStyle}\n              onClick={this.handleBuildMode}\n              data-mode=\"build\"\n            >\n              {searchIcon}\n            </div>\n            <div></div>\n            <div\n              class=\"child-clicks-this\"\n              pointer-events=\"none\"\n              style={reviewStyle}\n              onClick={this.handleBuildMode}\n              data-mode=\"review\"\n            >\n              {listIcon}\n            </div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ////use trussList to allow user defined trusses at some point\n      //trussList: [\"Project\",\"Truss 1\", \"Truss 2\", \"Truss 3\"],\n      //currentTruss: \"Project\",\n      mode: \"build\",\n      projectFixtures: [],\n      filterText: \"\",\n      selectedFixture: {},\n      fixtureView: false,\n    };\n    this.handleFixtureChange = this.handleFixtureChange.bind(this);\n    this.handleRemoveButtonClick = this.handleRemoveButtonClick.bind(this);\n    //this.handleTrussSelect = this.handleTrussSelect.bind(this);\n    this.handleBuildMode = this.handleBuildMode.bind(this);\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleFixtureClick = this.handleFixtureClick.bind(this);\n    this.handleBackClick = this.handleBackClick.bind(this);\n  }\n  handleBuildMode(e) {\n    let newMode = e.target.dataset.mode;\n    this.setState({\n      fixtureView: false,\n    });\n    if (this.state.mode !== newMode) {\n      this.setState({\n        mode: e.target.dataset.mode,\n        filterText: \"\",\n      });\n    }\n  }\n\n  // handleTrussSelect (trussName) {\n  //     this.setState({\n  //         currentTruss: trussName,\n  //     });\n  // }\n\n  handleFilterTextChange(filterText) {\n    this.setState({\n      filterText: filterText,\n    });\n  }\n\n  handleFixtureChange(fixtureId, quantity) {\n    quantity = parseInt(quantity);\n\n    let updatedSelectedFixtures = this.state.projectFixtures.slice();\n\n    let newFixture = getObj(APPDATA.fixtures, \"id\", fixtureId);\n\n    if (newFixture) {\n      let fixtureAlreadySelected = false;\n      updatedSelectedFixtures.forEach((fixture) => {\n        if (\n          fixture.id === fixtureId &&\n          fixture.truss === this.state.currentTruss\n        ) {\n          fixture.quantity = quantity;\n          fixtureAlreadySelected = true;\n          return;\n        }\n      });\n\n      if (!fixtureAlreadySelected) {\n        newFixture.quantity = quantity;\n        newFixture.selected = true;\n        newFixture.truss = this.state.currentTruss;\n        updatedSelectedFixtures.push(newFixture);\n      }\n    }\n\n    this.setState({\n      projectFixtures: updatedSelectedFixtures,\n    });\n  }\n\n  handleRemoveButtonClick(fixtureId) {\n    let remainingFixtures = this.state.projectFixtures.filter((fixture) => {\n      return fixtureId !== fixture.id;\n    });\n    this.setState({\n      projectFixtures: remainingFixtures,\n    });\n  }\n\n  handleFixtureClick(fixture) {\n    this.setState({\n      fixtureView: true,\n      selectedFixture: fixture,\n    });\n  }\n\n  handleBackClick(e) {\n    this.setState({\n      fixtureView: false,\n      selectedFixture: \"\",\n    });\n  }\n\n  render() {\n    let page;\n    if (this.state.fixtureView) {\n      page = <FixtureDetails fixture={this.state.selectedFixture} />;\n    } else {\n      if (this.state.mode === \"build\") {\n        page = (\n          <FilterableFixtureTable\n            mode={this.state.mode}\n            fixtures={APPDATA.fixtures}\n            selectedFixtures={this.state.projectFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            filterText={this.state.filterText}\n            onFixtureClick={this.handleFixtureClick}\n            //currentTruss={this.props.currentTruss}\n          />\n        );\n      } else {\n        page = (\n          <Review\n            mode={this.state.mode}\n            trussList={this.state.trussList}\n            selectedFixtures={this.state.projectFixtures}\n            onFixtureChange={this.handleFixtureChange}\n            onRemoveButtonClick={this.handleRemoveButtonClick}\n            onFixtureClick={this.handleFixtureClick}\n          />\n        );\n      }\n    }\n\n    // let reviewStyle = (this.state.mode===\"review\") ? {fontWeight: 'bold'} : {fontWeight: 'lighter'};\n    // let buildStyle = (this.state.mode===\"build\") ? {fontWeight: 'bold'} : {fontWeight: 'lighter'};\n\n    return (\n      <div class=\"app\">\n        <div class=\"header-container-container\">\n          <div class=\"header-container\">\n            <Header\n              fixtureView={this.state.fixtureView}\n              mode={this.state.mode}\n              selectedFixture={this.state.selectedFixture}\n              onFilterTextChange={this.handleFilterTextChange}\n              onBackClick={this.handleBackClick}\n            />\n          </div>\n        </div>\n\n        <div class=\"page\">{page}</div>\n\n        <Footer mode={this.state.mode} onModeChange={this.handleBuildMode} />\n      </div>\n    );\n  }\n}\n\n//Request json and only render page when json retreived\nconst xmlhttp = new XMLHttpRequest();\nxmlhttp.onreadystatechange = function () {\n  if (this.readyState === 4 && this.status === 200) {\n    APPDATA = JSON.parse(this.responseText);\n\n    ReactDOM.render(<App />, document.querySelector(\"#root\"));\n  }\n};\nxmlhttp.open(\"GET\", \"fixtureData.json\", true);\nxmlhttp.send();\n"],"sourceRoot":""}