(this.webpackJsonppatchpalapp=this.webpackJsonppatchpalapp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(3),i=a(1),l=a(6),c=a(4),s=a(0),o=a.n(s),u=a(8),h=a.n(u),d=(a(15),a(9));function m(e){var t={number:Math.ceil(e),unit:"W"};return e>1e3&&(t={number:(e/1e3).toFixed(1),unit:"kW"}),t}var p,f=a(5),x=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleFixtureChange=r.handleFixtureChange.bind(Object(i.a)(r)),r.handleMinus=r.handleMinus.bind(Object(i.a)(r)),r.handlePlus=r.handlePlus.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFixtureChange",value:function(e){this.props.onFixtureChange(this.props.fixture.id,e.target.value)}},{key:"handleMinus",value:function(){var e=this.props.fixture.quantity>0?this.props.fixture.quantity-=1:0;this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"handlePlus",value:function(){var e=this.props.fixture.quantity;e=Number(e)?Number(e)+1:1,this.props.onFixtureChange(this.props.fixture.id,e)}},{key:"render",value:function(){var e=this.props.fixture,t="",a=o.a.createElement("div",null),n=o.a.createElement("div",null);return(e.quantity||0===e.quantity)&&(t=e.quantity,a=o.a.createElement("div",{onClick:this.handleMinus},o.a.createElement(f.e,{className:"plus-minus-icon"})),n=o.a.createElement("form",{className:"quantity-input",onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},o.a.createElement("input",{type:"text",pattern:"\\d*",maxLength:"2",value:t,onChange:this.handleFixtureChange,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}))),o.a.createElement("div",{className:"fixture-change"},a,n,o.a.createElement("div",{onClick:this.handlePlus},o.a.createElement(f.a,{className:"plus-minus-icon"})))}}]),a}(o.a.Component),v=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleFixtureChange=r.handleFixtureChange.bind(Object(i.a)(r)),r.handleRemoveButtonClick=r.handleRemoveButtonClick.bind(Object(i.a)(r)),r.handleFixtureClick=r.handleFixtureClick.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(){this.props.onRemoveButtonClick(this.props.fixture.id)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(this.props.fixture)}},{key:"render",value:function(){var e,t=this.props.fixture,a="";return t.selected&&(a=o.a.createElement("button",{className:"remove-button",type:"button",onClick:this.handleRemoveButtonClick},o.a.createElement(f.i,{className:"remove-button-x"}))),e=t.apparentPower?t.apparentPower+"VA":t.realPower&&t.powerFactor?Math.ceil(Number(t.realPower)/Number(t.powerFactor)).toString()+"VA":t.realPower+"W",o.a.createElement("div",{className:"fixture-row"},o.a.createElement("div",{className:"remove-button-container"},a),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("span",{className:"fixture-row-title",onClick:this.handleFixtureClick},t.manufacturer," ",t.name)),o.a.createElement("div",{className:"fixture-in-row-details"},e," \xb7 ",t.weight,"kg")),o.a.createElement(x,{onFixtureChange:this.handleFixtureChange,fixture:this.props.fixture}))}}]),a}(o.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleFixtureChange=r.handleFixtureChange.bind(Object(i.a)(r)),r.handleRemoveButtonClick=r.handleRemoveButtonClick.bind(Object(i.a)(r)),r.handleFixtureClick=r.handleFixtureClick.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFixtureChange",value:function(e,t){this.props.onFixtureChange(e,t)}},{key:"handleRemoveButtonClick",value:function(e){this.props.onRemoveButtonClick(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"render",value:function(){var e=this,t=this.props.filterText,a=[];return this.props.fixtures.forEach((function(n){if(function(e,t){var a=!0;return e.split(" ").forEach((function(e){t.manufacturer.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||(a=!1)})),a}(t,n)){var r=n;e.props.selectedFixtures&&e.props.selectedFixtures.forEach((function(e){e.id!==n.id||(r=e)})),a.push(o.a.createElement(v,{fixture:r,key:n.id,onFixtureChange:e.handleFixtureChange,onRemoveButtonClick:e.handleRemoveButtonClick,onFixtureClick:e.handleFixtureClick}))}})),0===a.length?"build"===this.props.mode?o.a.createElement("div",{className:"search-fail-text"},"No matches :("):"review"===this.props.mode?o.a.createElement("div",{className:"search-fail-text"},"No fixtures selected!"):o.a.createElement("div",null):o.a.createElement("div",{className:"fixture-table"},a)}}]),a}(o.a.Component),b=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=function(e,t){var a=0,n=0;return e&&e.forEach((function(e){e.quantity>=1&&(e.apparentPower?a+=Number(e.apparentPower)*Number(e.quantity):e.powerFactor&&e.realPower?a+=Number(e.realPower)/Number(e.powerFactor)*Number(e.quantity):a+=Number(e.realPower)*Number(e.quantity),n+=Number(e.weight)*Number(e.quantity))})),{power:a,weight:n,current:a/t}}(this.props.selectedFixtures,230);return o.a.createElement("div",{className:"totals"},o.a.createElement("div",{className:"review-power"},o.a.createElement("span",{className:"review-total"},m(e.power).number),o.a.createElement("span",{className:"review-unit"},m(e.power).unit)),o.a.createElement("div",{className:"review-weight"},o.a.createElement("span",{className:"review-total"},Math.ceil(e.weight)),o.a.createElement("span",{className:"review-unit"},"kg")),o.a.createElement("div",{className:"review-amps"},o.a.createElement("span",{className:"review-total "},Math.ceil(e.current)),o.a.createElement("span",{className:"review-unit"},"A",o.a.createElement("sup",null,"(",230,"v)"))))}}]),a}(o.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleFilterTextChange=r.handleFilterTextChange.bind(Object(i.a)(r)),r.handleProdCoChange=r.handleProdCoChange.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"handleProdCoChange",value:function(e){this.props.onProdCoChange(e.target.value)}},{key:"render",value:function(){var e=this.props.filterText;return o.a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},o.a.createElement("input",{autoFocus:!0,className:"search",type:"text",placeholder:"Search",value:e,onChange:this.handleFilterTextChange}))}}]),a}(o.a.Component),E=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.fixture.manual?o.a.createElement("a",{href:this.props.fixture.manual,target:"_blank",rel:"noopener noreferrer"},"Manual"):"",t=this.props.fixture.specSheet?o.a.createElement("a",{href:this.props.fixture.specSheet,target:"_blank",rel:"noopener noreferrer"},"Spec Sheet"):"",a=this.props.fixture.webpage?o.a.createElement("a",{href:this.props.fixture.webpage,target:"_blank",rel:"noopener noreferrer"},"Web Page"):"",n=e||t||a?o.a.createElement("div",null,"Documents: ",e," ",t," ",a):o.a.createElement("div",null),r="";return this.props.fixture.realPower&&(r+=this.props.fixture.realPower+"W "),this.props.fixture.apparentPower&&(r+=this.props.fixture.apparentPower+"VA "),o.a.createElement("div",{className:"fixture-details"},o.a.createElement("div",null,"Manufacturer: ",this.props.fixture.manufacturer),o.a.createElement("div",null,"Weight: ",this.props.fixture.weight,"kg"),o.a.createElement("div",null,"Power: ",r),o.a.createElement("div",null,"Type: ",this.props.fixture.type),o.a.createElement("div",null,"Lamp: ",this.props.fixture.lampType),n)}}]),a}(o.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={projectFixtures:[]},r.handleFixtureChange=r.handleFixtureChange.bind(Object(i.a)(r)),r.handleRemoveButtonClick=r.handleRemoveButtonClick.bind(Object(i.a)(r)),r.handleFilterTextChange=r.handleFilterTextChange.bind(Object(i.a)(r)),r.handleFixtureClick=r.handleFixtureClick.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e)}},{key:"handleFixtureClick",value:function(e){this.props.onFixtureClick(e)}},{key:"handleFixtureChange",value:function(e,t){t=parseInt(t);var a=this.state.projectFixtures.slice(),n=function(e,t,a){var n;return e.forEach((function(e){e[t]!==a||(n=Object(d.a)({},e))})),n}(p.fixtures,"id",e);if(n){var r=!1;a.forEach((function(a){if(a.id===e)return a.quantity=t,void(r=!0)})),r||(n.quantity=t,n.selected=!0,a.push(n))}this.setState({projectFixtures:a})}},{key:"handleRemoveButtonClick",value:function(e){var t=this.state.projectFixtures.filter((function(t){return e!==t.id}));this.setState({projectFixtures:t})}},{key:"render",value:function(){var e,t=0;return this.state.projectFixtures.forEach((function(e){t+=Number(e.quantity)})),e=this.props.fixtureView?o.a.createElement(E,{fixture:this.props.selectedFixture}):"build"===this.props.mode?o.a.createElement(C,{mode:this.props.mode,fixtures:p.fixtures,selectedFixtures:this.state.projectFixtures,filterText:this.props.filterText,onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,onFixtureClick:this.handleFixtureClick}):o.a.createElement("div",null,o.a.createElement(b,{selectedFixtures:this.state.projectFixtures,name:"Totals"}),o.a.createElement("div",{className:"selected-heading"},o.a.createElement("h2",null,"Selected Fixtures (",t,")")),o.a.createElement(C,{mode:this.props.mode,fixtures:this.state.projectFixtures,filterText:"",onFixtureChange:this.handleFixtureChange,onRemoveButtonClick:this.handleRemoveButtonClick,onFixtureClick:this.handleFixtureClick})),o.a.createElement("div",{className:"page"},e)}}]),a}(o.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={searchExtended:!1},r.handleFilterTextChange=r.handleFilterTextChange.bind(Object(i.a)(r)),r.handleBackClick=r.handleBackClick.bind(Object(i.a)(r)),r.handleSearchClick=r.handleSearchClick.bind(Object(i.a)(r)),r.handleClearSearch=r.handleClearSearch.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e)}},{key:"handleBackClick",value:function(e){this.state.searchExtended?(this.props.onFilterTextChange(""),this.setState({searchExtended:!1})):this.props.onBackClick(e)}},{key:"handleSearchClick",value:function(e){this.setState({searchExtended:!0})}},{key:"handleClearSearch",value:function(e){this.props.onFilterTextChange("")}},{key:"render",value:function(){var e,t,a,n="header";switch(this.props.mode){case"build":switch(this.state.searchExtended){case!0:a=o.a.createElement("div",null,o.a.createElement(k,{filterText:this.props.filterText,onFilterTextChange:this.handleFilterTextChange})),e=o.a.createElement("div",{className:"left-icon-div",onClick:this.handleBackClick},o.a.createElement(f.b,{className:"left-icon"})),n="header-search",t=o.a.createElement("div",null);break;default:a=o.a.createElement("h1",{className:"title",onClick:this.handleSearchClick},"PatchPal"),e=o.a.createElement("div",{className:"left-icon-div",onClick:this.handleSearchClick},o.a.createElement(f.f,{className:"left-icon"})),t=o.a.createElement("div",null),n="header"}break;case"review":a=o.a.createElement("h1",{className:"title"},"Summary"),e=o.a.createElement("div",null),n="header-review";break;default:e=o.a.createElement("div",null),t=o.a.createElement("div",null),a=o.a.createElement("h1",null,"PatchPal")}return this.props.fixtureView&&(e=o.a.createElement("div",{className:"left-icon-div",onClick:this.handleBackClick},o.a.createElement(f.b,{className:"left-icon"})),a=o.a.createElement("h1",null,this.props.selectedFixture.name),t=o.a.createElement("div",null),n="header"),o.a.createElement("div",{className:"header-container-container"},o.a.createElement("div",{className:"header-container"},o.a.createElement("div",{className:n},e,a,t)))}}]),a}(o.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleBuildMode=r.handleBuildMode.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleBuildMode",value:function(e){this.props.onModeChange(e)}},{key:"render",value:function(){var e="review"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},t="build"===this.props.mode?{fontWeight:"bold"}:{fontWeight:"lighter"},a="build"===this.props.mode?o.a.createElement(f.g,{className:"footer-icon"}):o.a.createElement(f.h,{className:"footer-icon"}),n="review"===this.props.mode?o.a.createElement(f.d,{className:"footer-icon"}):o.a.createElement(f.c,{className:"footer-icon"});return o.a.createElement("div",{className:"footer-container-container"},o.a.createElement("div",{className:"footer-container"},o.a.createElement("div",{id:"footer"},o.a.createElement("div",null),o.a.createElement("div",{className:"child-clicks-this",style:t,onClick:this.handleBuildMode,"data-mode":"build"},a),o.a.createElement("div",null),o.a.createElement("div",{className:"child-clicks-this",style:e,onClick:this.handleBuildMode,"data-mode":"review"},n),o.a.createElement("div",null))))}}]),a}(o.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={mode:"build",projectFixtures:[],filterText:"",selectedFixture:{},fixtureView:!1},r.handleFixtureClick=r.handleFixtureClick.bind(Object(i.a)(r)),r.handleBuildMode=r.handleBuildMode.bind(Object(i.a)(r)),r.handleFilterTextChange=r.handleFilterTextChange.bind(Object(i.a)(r)),r.handleBackClick=r.handleBackClick.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"handleBuildMode",value:function(e){var t=e.target.dataset.mode;this.setState({fixtureView:!1}),this.state.mode!==t&&this.setState({mode:e.target.dataset.mode,filterText:""})}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFixtureClick",value:function(e){this.setState({fixtureView:!0,selectedFixture:e})}},{key:"handleBackClick",value:function(e){this.setState({fixtureView:!1,selectedFixture:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(g,{fixtureView:this.state.fixtureView,mode:this.state.mode,selectedFixture:this.state.selectedFixture,onFilterTextChange:this.handleFilterTextChange,onBackClick:this.handleBackClick}),o.a.createElement(F,{fixtureView:this.state.fixtureView,mode:this.state.mode,selectedFixture:this.state.selectedFixture,onFilterTextChange:this.handleFilterTextChange,filterText:this.state.filterText,onFixtureClick:this.handleFixtureClick}),o.a.createElement(j,{mode:this.state.mode,onModeChange:this.handleBuildMode}))}}]),a}(o.a.Component);fetch("fixtureData.json").then((function(e){return console.log(e),e.ok||console.error("Database not found."),e.text()})).then((function(e){p=JSON.parse(e),h.a.render(o.a.createElement(w,null),document.querySelector("#root"))}))}},[[10,1,2]]]);
//# sourceMappingURL=main.e9474d7c.chunk.js.map